{
  "$type": "Models.Core.Simulations, Models",
  "ExplorerWidth": 282,
  "Version": 101,
  "ApsimVersion": "0.0.0.0",
  "Name": "Simulations",
  "Children": [
    {
      "$type": "Models.Storage.DataStore, Models",
      "useFirebird": false,
      "CustomFileName": null,
      "Name": "DataStore",
      "Children": [],
      "IncludeInDocumentation": false,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowPageOfGraphs": true,
      "Name": "Sensibility",
      "Children": [
        {
          "$type": "Models.Memo, Models",
          "Text": "This sensibility test explores dual-purpose wheat in a high rainfall livestock system in south-eastern Australia.\n\nIt is based on:\n\n_Sprague SJ, Kirkegaard JA, Dove H, Graham JM, McDonald SE, Kelman WM (2015) **Integrating dual-purpose wheat and canola into high-rainfall livestock systems in south-eastern Australia. 1. Crop forage and grain yield.** Crop and Pasture Science 66(4), 365-376._\n\n_Sheep grazing wheat and fed in feedlot_\n\nIn this example simulation sheep are bought and sold on specified date.\nThey are fed supplement in a feedlot at a set rate, but graze a wheat crop when crop biomass >= 2.4 t/ha.\nSheep are moved from the wheat crop and back to feedlot when crop biomass reaches 0.5 t/ha or crop zadok = 31.\n\n\n_Activities in this manager:_\n\n1. Buy animals at start of year & put in feedlot\n2. Move animals from feedlot to crop when ready to graze\n3. Move animals from crop to feedlot \n4. Shear all animals on specified date\n5. Sell all animals at end of year\n\n_NOTES_\n\n1. When the animals are in the feedlot and an animal dies during the day, the supplement has already been fed into the feedlot\n   based on the number of animals in the feedlot at the start of the day. This means the remaining animals have access to slightly\n   more supplement and causes a spike in supp intake graph.\n2. When sheep are culled for age + purchased to maintain stocking rate, several groups of sheep are created.\n   This causes irregular amounts of supplement to be fed.\n\n",
          "Name": "Memo",
          "Children": [],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Name": "WheatSheepFeedlot",
          "Children": [
            {
              "$type": "Models.Clock, Models",
              "Start": "2000-01-01T00:00:00",
              "End": "2012-06-30T00:00:00",
              "Name": "Clock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "CaptureErrors": true,
              "CaptureWarnings": true,
              "CaptureSummaryText": true,
              "Name": "SummaryFile",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Weather, Models",
              "FileName": "C:\\Users\\holzworthdp\\Repos\\ApsimX\\Tests\\WeatherFiles\\Ginninderra.met",
              "ExcelWorkSheetName": "",
              "Name": "Weather",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.GrazPlan.Stock, Models",
              "randFactory": {
                "$type": "StdUnits.MyRandom, Models"
              },
              "RandSeed": 9999,
              "StockModel": null,
              "Name": "Stock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.GrazPlan.Supplement, Models",
              "SpoilageTime": 0.0,
              "Stores": [
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "fodder",
                  "Stored": 0.0,
                  "IsRoughage": true,
                  "DMContent": 0.85,
                  "DMD": 0.0,
                  "MEContent": 0.0,
                  "CPConc": 0.0,
                  "ProtDg": 0.0,
                  "PConc": 0.0,
                  "SConc": 0.0,
                  "EEConc": 0.0,
                  "ADIP2CP": 0.0,
                  "AshAlk": 0.0,
                  "MaxPassage": 0.0
                },
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "wheat, crushed",
                  "Stored": 500.0,
                  "IsRoughage": false,
                  "DMContent": 1.0,
                  "DMD": 0.9,
                  "MEContent": 13.8,
                  "CPConc": 0.14,
                  "ProtDg": 0.92,
                  "PConc": 0.0038,
                  "SConc": 0.0014000000000000002,
                  "EEConc": 0.02,
                  "ADIP2CP": 0.02,
                  "AshAlk": 0.18,
                  "MaxPassage": 0.0
                }
              ],
              "PaddockList": [],
              "Name": "Supplement",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "/*-------------------------------------------------------------------------------------\r\nSheep grazing wheat when conditions are suitable, and in feedlot the rest of the time.\r\n---------------------------------------------------------------------------------------\r\n\r\nIn this example simulation sheep are bought and sold on specified date.\r\nThey are fed supplement in a feedlot at a set rate, but graze a wheat crop when crop biomass >= 2.4 t/ha.\r\nSheep are moved from the wheat crop and back to feedlot when crop biomass reaches 0.5 t/ha or crop zadok = 31.\r\n\r\nBased on Sprague SJ, Kirkegaard JA, Dove H, Graham JM, McDonald SE, Kelman WM (2015) Integrating dual-purpose wheat and canola into high-rainfall livestock systems in south-eastern Australia. 1. Crop forage and grain yield. Crop and Pasture Science 66(4), 365-376. \r\n\r\nActivities in this manager:\r\n1. Buy animals at start of year & put in feedlot\r\n2. Move animals from feedlot to crop when ready to graze\r\n3. Move animals from crop to feedlot \r\n4. Shear all animals on specified date\r\n5. Sell all animals at end of year\r\n\r\nERRORS TO FIX\r\n1. When an animal dies, extra supplement is fed (see spikes in supp intake graph)\r\n2. When sheep are culled for age + purchased to maintain stocking rate, several groups of sheep are created.\r\nThis causes irregular amounts of supplement to be fed.\r\n--------------------------------------------------------------------------------------*/\r\n\r\n\r\nusing System.Linq;\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing Models.Core;\r\nusing Models.PMF;\r\nusing Models.Functions;\r\nusing Models.Soils;\r\nusing Models.Utilities;\r\nusing Models.GrazPlan;\r\nusing APSIM.Shared.Utilities;\r\nusing System.Diagnostics;\r\n\r\nnamespace Models\r\n{\r\n\t[Serializable]\r\n\tpublic class Script : Model\r\n\t{\r\n\t\t[Link] Clock clock;\r\n\t\t[Link] Stock Animals;\r\n\t\t[Link] Supplement Feed;\r\n\t\t[Link] Summary Summary;\r\n\t\t[Link] IPlant plant;\r\n\t\t[Link] Soil Soil;\r\n\t\t[Link] Zone Paddock;\r\n\t\t[Link] ScriptCompiler compiler;\r\n\r\n\t\tprivate CSharpExpressionFunction expressionMoveAnimalsToField;\r\n\t\tprivate CSharpExpressionFunction expressionMoveAnimalsToFeedlot;\r\n\r\n\t\tpublic enum SellPolicyType\r\n\t\t{\r\n\t\t\tDate,\r\n\t\t\tPercentageHerdWhenAverageWeightGreaterThan,\r\n\t\t\tPercentageHerdWhenAverageAgeGreaterThan,\r\n\t\t\tCulledForAge,\r\n\t\t\tCulledForWeight\r\n\t\t}\r\n\r\n\t\t////////////////////////////////////////////////////////\r\n\t\t[Separator(\"Buying of animals\")]\r\n\r\n\t\t[Description(\"Buy animals?\")] \r\n\t\tpublic bool Buying { get; set; }\r\n\r\n\t\t[Description(\"Stock: genotype (e.g. Small Merino, Angus, Friesian):\")] \r\n\t\t[Display(Values = \"GetGenotypes\")]\r\n\t\tpublic string Genotype { get; set; }\r\n\r\n\t\t[Description(\"Stock: sex (Female, Male, Castrate):\")] \r\n\t\tpublic ReproductiveType Sex { get; set; }\r\n\r\n\t\t[Description(\"Date to buy animals (dd-mmm)\")] \r\n\t\t[Display(EnabledCallback = \"BuyingEnabled\")]\r\n\t\tpublic string BuyDate { get; set; }\r\n\r\n\t\t[Description(\"Age of bought animals (months): \")] \r\n\t\t[Display(EnabledCallback = \"BuyingEnabled\")]\r\n\t\tpublic double BuyAge { get; set; }\r\n\r\n\t\t[Description(\"Weight of bought animals (kg): \")] \r\n\t\t[Display(EnabledCallback = \"BuyingEnabled\")]\r\n\t\tpublic double BuyWeight { get; set; }\r\n\r\n\t\t[Description(\"Zero denotes not lactating; 1 or more denotes the time (days) since parturition:\")] \r\n\t\t[Display(EnabledCallback = \"BuyingEnabled\")]\r\n\t\tpublic int BuyLactating { get; set; }\r\n\r\n\t\t[Description(\"Number of animals to buy: \")] \r\n\t\t[Display(EnabledCallback = \"BuyingEnabled\")]\r\n\t\tpublic int NumAntoBuy { get; set; }\r\n\r\n\t\t////////////////////////////////////////////////////////\r\n\t\t[Separator(\"Selling of animals\")]\r\n\r\n\t\t[Description(\"Selling animals?\")] \r\n\t\tpublic bool Selling { get; set; }\r\n\r\n\t\t[Description(\"First date to consider selling animals (dd-mmm)\")] \r\n\t\tpublic string SaleFirstDate { get; set; }\r\n\r\n\t\t[Description(\"Last date to consider selling animals (dd-mmm)\")] \r\n\t\tpublic string SaleLastDate { get; set; }\r\n\r\n\t\t[Description(\"Selling policy \")] \r\n\t\t[Display(EnabledCallback = \"SellingEnabled\")]\r\n\t\tpublic SellPolicyType SellPolicy { get; set; }\r\n\r\n\t\t[Description(\"Age at which to sell (months): \")] \r\n\t\t[Display(EnabledCallback = \"SellingAgeEnabled\")]\r\n\t\tpublic int SaleAge { get; set; }\r\n\r\n\t\t[Description(\"Weight at which to sell (kg): \")] \r\n\t\t[Display(EnabledCallback = \"SellingWeightEnabled\")]\r\n\t\tpublic double SaleWeight { get; set; }\r\n\r\n\t\t[Description(\"Percentage of animals to sell (%)\")] \r\n\t\t[Display(EnabledCallback = \"SellingEnabled\")]\r\n\t\tpublic double SalePercentAnimals { get; set; }\r\n\r\n\t\t////////////////////////////////////////////////////////\r\n\t\t[Separator(\"Rule for moving animals into and out of paddock\")]\r\n\r\n\t\t[Description(\"Name of paddock to move animals in to:\")] \r\n\t\t[Display(Type = DisplayType.Model, ModelType = typeof(Zone))]\r\n\t\tpublic IModel PaddockToMoveAnimalsTo { get; set; }\r\n\r\n\t\t[Description(\"First date to consider moving animals:\")] \r\n\t\tpublic string GrazingWindowStartDate { get; set; }\r\n\r\n\t\t[Description(\"Last date to consider moving animals:\")] \r\n\t\tpublic string GrazingWindowEndDate { get; set; }\r\n\r\n   \t\t[Description(\"Criteria to move animals to field\")]\r\n\t\tpublic string ExpressionToMoveAnimalsToField { get; set; }\r\n\r\n   \t\t[Description(\"Criteria to move animals to feedlot\")]\r\n\t\tpublic string ExpressionToMoveAnimalsToFeedlot { get; set; }\r\n\r\n\r\n\t\t////////////////////////////////////////////////////////\r\n\t\t[Separator(\"Shearing\")]\r\n\t\t[Description(\"Date to shear animals (dd-mmm)\")] \r\n\t\tpublic string ShearDate { get; set; }\r\n\r\n\t\t[Description(\" \")] \r\n\t\tpublic string Dummy { get; set; }\r\n\r\n\t\t////////////////////////////////////////////////////////////////////////////\r\n\t\t// Callback properties to control disabling of properties.\r\n\t\t////////////////////////////////////////////////////////////////////////////\r\n\t\tpublic bool BuyingEnabled { get { return Buying; } }\r\n\r\n\t\tpublic bool SellingEnabled { get { return Selling; } }\r\n\r\n\t\tpublic bool SellingAgeEnabled\r\n\t\t{ \r\n\t\t\tget\r\n\t\t\t{ \r\n\t\t\t\treturn Selling &&\r\n\t\t\t\t(SellPolicy == SellPolicyType.PercentageHerdWhenAverageAgeGreaterThan || SellPolicy == SellPolicyType.CulledForAge);\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tpublic bool SellingWeightEnabled\r\n\t\t{ \r\n\t\t\tget\r\n\t\t\t{ \r\n\t\t\t\treturn Selling &&\r\n\t\t\t\t(SellPolicy == SellPolicyType.PercentageHerdWhenAverageWeightGreaterThan || SellPolicy == SellPolicyType.CulledForWeight);\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\t////////////////////////////////////////////////////////////////////////////\r\n\t\t// Outputs\r\n\t\t////////////////////////////////////////////////////////////////////////////\r\n\t\t// <summary>Number of animals sold.</summary>\r\n\t\tpublic int NumberSold { get; set; }\r\n\r\n\t\t// <summary>Description of something that has happened.</summary>\r\n\t\tpublic string EventName { get; set; }\r\n\r\n\t\t// <summary>Return a list of genotypes to the properties tab.</summary>\r\n\t\tpublic string[] GetGenotypes()\r\n\t\t{\r\n\t\t\tif (Animals != null)\r\n\t\t\t\treturn Animals.Genotypes.Names.ToArray();\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\r\n\r\n\t\t// ============================================================\r\n\t\t// Called once at beginning of simulation run\r\n\t\t// ============================================================\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {\r\n\t        if (string.IsNullOrEmpty(ExpressionToMoveAnimalsToField))\r\n\t\t        throw new Exception(\"You must specify a criteria for moving animals to the field\");\r\n\t        expressionMoveAnimalsToField = new CSharpExpressionFunction();\r\n\t        expressionMoveAnimalsToField.Parent = this;\r\n\t        expressionMoveAnimalsToField.Expression = \"Convert.ToDouble(\" + ExpressionToMoveAnimalsToField + \")\";\r\n\t        expressionMoveAnimalsToField.SetCompiler(compiler);\r\n\t        expressionMoveAnimalsToField.CompileExpression();\r\n\r\n\t        if (string.IsNullOrEmpty(ExpressionToMoveAnimalsToFeedlot))\r\n\t\t        throw new Exception(\"You must specify a criteria for moving animals to the feedlot\");\r\n\t        expressionMoveAnimalsToFeedlot = new CSharpExpressionFunction();\r\n\t        expressionMoveAnimalsToFeedlot.Parent = this;\r\n\t        expressionMoveAnimalsToFeedlot.Expression = \"Convert.ToDouble(\" + ExpressionToMoveAnimalsToFeedlot + \")\";\r\n\t        expressionMoveAnimalsToFeedlot.SetCompiler(compiler);\r\n\t        expressionMoveAnimalsToFeedlot.CompileExpression();\r\n        }\r\n\r\n\r\n\r\n\t\t// ============================================================\r\n\t\t// Management that happens every day.\r\n\t\t// ============================================================\r\n\t\t[EventSubscribe(\"DoManagement\")]\r\n\t\tprivate void OnDoManagement(object sender, EventArgs e)\r\n\t\t{\r\n\t\t\tEventName = string.Empty;\r\n\r\n\t\t\t// Buy animals\r\n\t\t\tif (Buying && DateUtilities.DatesAreEqual(BuyDate, clock.Today))\r\n\t\t\t{\r\n\t\t\t\tvar purchase = new StockBuy();\r\n\t\t\t\tpurchase.Genotype = Genotype;   // \"small merino\"\r\n\t\t\t\tpurchase.Number = NumAntoBuy;\r\n\t\t\t\tpurchase.Sex = Sex;               // \"wethers\"\r\n\t\t\t\tpurchase.Age = BuyAge;\r\n\t\t\t\tpurchase.Weight = BuyWeight;\r\n\t\t\t\tpurchase.Lactating = BuyLactating;\r\n\t\t\t\tAnimals.Buy(purchase);\r\n\t\t\t\tAnimals.Move(\"Feedlot\");\r\n\t\t\t\tEventName = NumAntoBuy + \" animals bought\";\r\n\t\t\t}\r\n\r\n\t\t\t// Sell animals\r\n\t\t\tif (SellingEnabled && DateUtilities.WithinDates(SaleFirstDate, clock.Today, SaleLastDate))\r\n\t\t\t{ \r\n\t\t\t\tif (SellPolicy == SellPolicyType.PercentageHerdWhenAverageWeightGreaterThan || \r\n\t\t\t\t    SellPolicy == SellPolicyType.PercentageHerdWhenAverageAgeGreaterThan)\r\n\t\t\t\t{\r\n\t\t\t\t\tbool doSell = false;\r\n\t\t\t\t\tif (SellPolicy == SellPolicyType.Date)\r\n\t\t\t\t\t\tdoSell = true;\r\n\t\t\t\t\telse if (SellPolicy == SellPolicyType.PercentageHerdWhenAverageWeightGreaterThan && Animals.WeightAll >= SaleWeight)\r\n\t\t\t\t\t\tdoSell = true;\r\n\t\t\t\t\telse if (SellPolicy == SellPolicyType.PercentageHerdWhenAverageAgeGreaterThan && Animals.AgeMonthsAll >= SaleAge)\r\n\t\t\t\t\t\tdoSell = true;\r\n\r\n\t\t\t\t\tif (doSell)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tNumberSold = Convert.ToInt32(Animals.NumberAll * SalePercentAnimals / 100.0);\r\n\t\t\t\t\t\tAnimals.Sell(NumberSold);\r\n\t\t\t\t\t\tEventName = NumberSold + \" animals sold\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tIEnumerable<AnimalGroup> animalsToSell;\r\n\t\t\t\t\tif (SellPolicy == SellPolicyType.CulledForAge)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// split older animals into a new group\r\n\t\t        \t    animalsToSell = Animals.SplitByAge(Convert.ToInt32(SaleAge * 30)); // months to days\r\n\t\t        \t}\r\n\t\t        \telse\r\n\t\t        \t{\r\n\t\t\t\t\t\t// split heavier animals into a new group\r\n\t\t        \t    animalsToSell = Animals.SplitByWeight(SaleWeight);\r\n\t        \t    }\r\n\r\n\t        \t    var numberSellableAnimals = animalsToSell.Sum(g => g.NoAnimals);\r\n\t        \t    var numberAnimalsToSell = Convert.ToInt32(numberSellableAnimals * SalePercentAnimals / 100.0);\r\n\t        \t    if (numberAnimalsToSell > 0)\r\n                    \tAnimals.Sell(numberAnimalsToSell, animalsToSell);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// Determine whether the animals are in the feedlot.\r\n            bool animalsAreInFeedlot = Animals.AnimalGroups.FirstOrDefault(group => group.PaddOccupied.Name == \"Feedlot\") != null;\r\n            bool inGrazingWindow = DateUtilities.WithinDates(GrazingWindowStartDate, clock.Today, GrazingWindowEndDate);\r\n\r\n            if (animalsAreInFeedlot)\r\n            {\r\n           \t\t// Animals are in feedlot. Determine if they can be moved to paddock.\r\n            \tif (inGrazingWindow && expressionMoveAnimalsToField.Value() == 1)\r\n            \t{\r\n            \t\tAnimals.Move(PaddockToMoveAnimalsTo.Name);\r\n            \t\tEventName = \"Animals moved to paddock\";\r\n        \t\t}\r\n            }\r\n            else\r\n            {\r\n            \t// Animals are in paddock. Determine if they need to be moved to feedlot.\r\n            \tif (!inGrazingWindow || expressionMoveAnimalsToFeedlot.Value() == 1)\r\n            \t{\r\n                \tAnimals.Move(\"Feedlot\");\r\n                \tEventName = \"Animals moved to feedlot\";\r\n            \t}\r\n        \t}\r\n\r\n\t\t\t// Shear all animals on specified date\r\n\t\t\tif (DateUtilities.DatesEqual(ShearDate, clock.Today))\r\n\t\t\t{\r\n\t\t\t\tAnimals.Shear(shearAdults: true, shearYoung: true);\r\n\t\t\t\tEventName = \"Animals shorn\";\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n",
              "Parameters": [
                {
                  "Key": "Buying",
                  "Value": "True"
                },
                {
                  "Key": "Genotype",
                  "Value": "Small Merino"
                },
                {
                  "Key": "Sex",
                  "Value": "Female"
                },
                {
                  "Key": "BuyDate",
                  "Value": "1-Jan"
                },
                {
                  "Key": "BuyAge",
                  "Value": "12"
                },
                {
                  "Key": "BuyWeight",
                  "Value": "30"
                },
                {
                  "Key": "BuyLactating",
                  "Value": "0"
                },
                {
                  "Key": "NumAntoBuy",
                  "Value": "50"
                },
                {
                  "Key": "Selling",
                  "Value": "True"
                },
                {
                  "Key": "SaleFirstDate",
                  "Value": "20-Dec"
                },
                {
                  "Key": "SaleLastDate",
                  "Value": "20-Dec"
                },
                {
                  "Key": "SellPolicy",
                  "Value": "CulledForAge"
                },
                {
                  "Key": "SaleAge",
                  "Value": "36"
                },
                {
                  "Key": "SaleWeight",
                  "Value": "NaN"
                },
                {
                  "Key": "SalePercentAnimals",
                  "Value": "100"
                },
                {
                  "Key": "PaddockToMoveAnimalsTo",
                  "Value": "[WheatSheep]"
                },
                {
                  "Key": "GrazingWindowStartDate",
                  "Value": "1-Jan"
                },
                {
                  "Key": "GrazingWindowEndDate",
                  "Value": "31-Dec"
                },
                {
                  "Key": "ExpressionToMoveAnimalsToField",
                  "Value": "Wheat.Phenology.Zadok > 0 && Wheat.Phenology.Zadok < 31 && Wheat.AboveGround.Wt >= 240"
                },
                {
                  "Key": "ExpressionToMoveAnimalsToFeedlot",
                  "Value": "Wheat.Phenology.Zadok >= 31 || Wheat.AboveGround.Wt <= 50"
                },
                {
                  "Key": "ShearDate",
                  "Value": "15-dec"
                },
                {
                  "Key": "Dummy",
                  "Value": ""
                },
                {
                  "Key": "NumberSold",
                  "Value": "0"
                },
                {
                  "Key": "EventName",
                  "Value": ""
                }
              ],
              "Name": "ManageStock",
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "using APSIM.Shared.Utilities;\r\nusing Models.GrazPlan;\r\nusing Models.Utilities;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n\t[Description(\r\n\t\"<b>Sheep grazing wheat when conditions are suitable, and in feedlot fed supplement the rest of the time.</b>\" +\r\n\t\"<li>When animals are in feedlot, they are fed a set amount each day.</li>\" +\r\n\t\"<li>Will restock the supplement store when the store reaches a minimum level.</li>\"\r\n\t)]\r\n\t[Serializable]\r\n\tpublic class ManageSupplement : Model\r\n\t{\r\n\t    [Link] Clock clock;\r\n\t\t[Link] Stock animals;\r\n\t\t[Link] Supplement supplement;\r\n\r\n\t\t[Description(\"Name of zone representing the feedlot\")]\r\n\t\t[Display(Type=DisplayType.Model, ModelType=typeof(Zone))]\r\n\t\tpublic IModel FeedlotZone { get; set; }\r\n\r\n\t\t[Description(\"The amount of suppliment to feed each animal each day (kg)\")]\r\n\t\tpublic double SupplementAmount { get; set; }\r\n\r\n\t\t[Description(\"The type of suppliment to feed the animals\")]\r\n\t\tpublic string SupplementType { get; set; }\r\n\r\n\t\t// ============================================================\r\n\t\t// Called every day to perform management actions\r\n\t\t// ============================================================\r\n\t\t[EventSubscribe(\"DoManagement\")]\r\n\t\tprivate void OnDoManagement(object sender, EventArgs e)\r\n\t\t{\r\n\t\t\t// Determine how many animals are in feedlot.\r\n\t\t\tvar animalGroupsInFeedlot = animals.AnimalGroups.Where(group => group.PaddOccupied.Name == FeedlotZone.Name);\r\n\t\t\tvar totalNumAnimalsInFeedlot = animalGroupsInFeedlot.Sum(group => group.NoAnimals);\r\n\r\n\t\t\t// If there are animals in feedlot then feed them.\r\n\t\t\tif (totalNumAnimalsInFeedlot > 0)\r\n\t\t\t\tsupplement.Feed(SupplementType, SupplementAmount * totalNumAnimalsInFeedlot, FeedlotZone.Name);     \r\n\r\n\t\t\t// Restock the supplement store if amount falls below 500 kg/ha\r\n\t\t\tif (supplement.Stores[1].Stored <= 500)       \r\n\t\t\t\tsupplement.Buy(5000, SupplementType);\r\n\t\t}\r\n\t}\r\n}",
              "Parameters": [
                {
                  "Key": "FeedlotZone",
                  "Value": "[Feedlot]"
                },
                {
                  "Key": "SupplementAmount",
                  "Value": "0.5"
                },
                {
                  "Key": "SupplementType",
                  "Value": "wheat, crushed"
                }
              ],
              "Name": "ManageSupplement",
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Report, Models",
              "VariableNames": [
                "[Clock].Today",
                "[Stock].Paddock as StockLocation",
                "[Stock].NumberAll",
                "[stock].IntakeAll.Weight as Intake //(kg)",
                "[Supplement].Name",
                "[Supplement].stores[2].Stored as SupplementStored // (kg)",
                "[Stock].SuppIntakeAll.Weight as SupplementIntake //(kg)",
                "[stock].SuppEaten as TotalSuppIntake //(kg)",
                "[stock].SuppIntake"
              ],
              "EventNames": [
                "[Clock].EndOfDay"
              ],
              "GroupByVariableName": null,
              "Name": "ReportSupplement",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Report, Models",
              "VariableNames": [
                "[Clock].Today",
                "[Stock].Paddock",
                "[Stock].Number as No_sheep",
                "[Stock].NumberAll",
                "[Stock].NumberAll / [WheatSheep].Area as Stockrate //(sheep/ha)",
                "[Stock].Weight as SheepWeight // (kg)",
                "[Stock].Age/30.4 as SheepAge //(month)",
                "[Stock].NoGroups"
              ],
              "EventNames": [
                "[Clock].EndOfDay"
              ],
              "GroupByVariableName": null,
              "Name": "ReportStock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Report, Models",
              "VariableNames": [
                "[Clock].Today",
                "[WheatSheep].Wheat.AboveGround.Wt*10 as TotalBiomass ",
                "[WheatSheep].Wheat.Grain.Wt*10 as TotalYield",
                "[WheatNotGrazed].Wheat.AboveGround.Wt*10 as TotalBiomassUngrazed",
                "[WheatNotGrazed].Wheat.Grain.Wt*10 as TotalYieldUngrazed",
                "[WheatSheep].Wheat.Phenology.Zadok.Stage as Zadok"
              ],
              "EventNames": [
                "[Clock].EndOfDay"
              ],
              "GroupByVariableName": null,
              "Name": "ReportBiomass",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "WheatSheep",
              "Children": [
                {
                  "$type": "Models.Fertiliser, Models",
                  "Name": "Fertiliser",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 785,
                  "ASCOrder": "Podzolic",
                  "ASCSubOrder": null,
                  "SoilType": "?",
                  "LocalName": null,
                  "Site": "Canberra",
                  "NearestTown": "Canberra",
                  "Region": "Gungahlin District",
                  "State": "Australian Capital Territory",
                  "Country": "Australia",
                  "NaturalVegetation": null,
                  "ApsoilNumber": "580-YP",
                  "Latitude": -35.201,
                  "Longitude": 149.082,
                  "LocationAccuracy": null,
                  "DataSource": "YP. Ginnenderra Experiment Station (GES). Data provided by James Hunt, based on measurements by John Kirkegaard, characterisation done by Julianne Lilley. Ginnenderra Experiment Station",
                  "Comments": null,
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.42,
                        1.42,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48
                      ],
                      "AirDry": [
                        0.04,
                        0.04,
                        0.05,
                        0.06,
                        0.08,
                        0.08,
                        0.09,
                        0.11,
                        0.11,
                        0.11,
                        0.11
                      ],
                      "LL15": [
                        0.059,
                        0.064,
                        0.085,
                        0.114,
                        0.13,
                        0.137,
                        0.141,
                        0.15,
                        0.161,
                        0.174,
                        0.174
                      ],
                      "DUL": [
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21
                      ],
                      "SAT": [
                        0.408,
                        0.408,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427
                      ],
                      "KS": null,
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.059,
                            0.064,
                            0.085,
                            0.114,
                            0.13,
                            0.137,
                            0.141,
                            0.15,
                            0.161,
                            0.174,
                            0.174
                          ],
                          "KL": [
                            0.08,
                            0.08,
                            0.06,
                            0.05,
                            0.04,
                            0.03,
                            0.03,
                            0.02,
                            0.02,
                            0.01,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            0.7,
                            0.4,
                            0.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "WheatSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 6.0,
                      "SummerCona": 2.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 2.0,
                      "WinterCona": 2.0,
                      "DiffusConst": 88.0,
                      "DiffusSlope": 35.4,
                      "Salb": 0.13,
                      "CN2Bare": 72.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "SWCON": [
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.6,
                        0.6,
                        0.6
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilNitrogen, Models",
                      "fom_types": [
                        "default",
                        "manure",
                        "mucuna",
                        "lablab",
                        "shemp",
                        "stable"
                      ],
                      "fract_carb": [
                        0.2,
                        0.3,
                        0.54,
                        0.57,
                        0.45,
                        0.0
                      ],
                      "fract_cell": [
                        0.7,
                        0.3,
                        0.37,
                        0.37,
                        0.47,
                        0.1
                      ],
                      "fract_lign": [
                        0.1,
                        0.4,
                        0.09,
                        0.06,
                        0.08,
                        0.9
                      ],
                      "Name": "SoilNitrogen",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilNitrogenNO3, Models",
                          "Name": "NO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenNH4, Models",
                          "Name": "NH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenUrea, Models",
                          "Name": "Urea",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNO3, Models",
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNH4, Models",
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "FOMCNRatio": 80.0,
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "Carbon": [
                        2.2,
                        0.5,
                        0.3,
                        0.2,
                        0.2,
                        0.15,
                        0.15,
                        0.1,
                        0.08,
                        0.06,
                        0.04
                      ],
                      "SoilCNRatio": [
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0
                      ],
                      "FBiom": [
                        0.06,
                        0.05,
                        0.03,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.0,
                        0.0,
                        0.3,
                        0.4,
                        0.5,
                        0.6,
                        0.8,
                        0.9,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        671.21308625009522,
                        577.71845721633736,
                        427.98435952999409,
                        368.36955203263562,
                        272.89487609013867,
                        234.88279657631006,
                        174.00545542840794,
                        110.95077691692059,
                        70.74533880653577,
                        52.409436016183129,
                        38.825865136441131
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "NO3N": [
                        0.37707390648567118,
                        0.37707390648567118,
                        0.37707390648567118,
                        0.37707390648567096,
                        0.3770739064856713,
                        0.3770739064856713,
                        0.37707390648567096,
                        0.3770739064856713,
                        0.3770739064856713,
                        0.3770739064856713,
                        1.0
                      ],
                      "NH4N": [
                        0.037707390648567117,
                        0.037707390648567117,
                        0.037707390648567117,
                        0.037707390648567124,
                        0.03770739064856711,
                        0.037707390648567124,
                        0.037707390648567124,
                        0.0377073906485671,
                        0.037707390648567124,
                        0.037707390648567124,
                        0.2
                      ],
                      "PH": [
                        5.1,
                        5.1,
                        5.3,
                        5.3,
                        5.9,
                        5.9,
                        6.4,
                        6.4,
                        6.8,
                        6.8,
                        6.8
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 0,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-180"
                      ],
                      "Thickness": [
                        1800.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": null,
                      "OC": null,
                      "EC": null,
                      "CL": null,
                      "ESP": null,
                      "PH": null,
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 500.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.PMF.Plant, Models",
                  "ResourceName": "Wheat",
                  "Name": "Wheat",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.MicroClimate, Models",
                  "a_interception": 0.0,
                  "b_interception": 1.0,
                  "c_interception": 0.0,
                  "d_interception": 0.0,
                  "soil_albedo": 0.3,
                  "SoilHeatFluxFraction": 0.4,
                  "MinimumHeightDiffForNewLayer": 0.0,
                  "NightInterceptionFraction": 0.5,
                  "ReferenceHeight": 2.0,
                  "Name": "MicroClimate",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        [Link] Plant Wheat;\r\n        [Link] Soil Soil; \r\n        Accumulator accumulatedRain;\r\n        \r\n        [Description(\"Start of sowing window (d-mmm)\")]\r\n        public string StartDate { get; set;}\r\n        [Description(\"End of sowing window (d-mmm)\")]\r\n        public string EndDate { get; set;}\r\n        [Description(\"Minimum extractable soil water for sowing (mm)\")]\r\n        public double MinESW { get; set;}\r\n        [Description(\"Accumulated rainfall required for sowing (mm)\")]\r\n        public double MinRain { get; set;}\r\n        [Description(\"Duration of rainfall accumulation (d)\")]\r\n        public int RainDays { get; set;}\r\n        [Description(\"Cultivar to be sown\")]\r\n        [Display(Type=DisplayType.CultivarName)]\r\n        public string CultivarName { get; set;}\r\n        [Description(\"Sowing depth (mm)\")]\r\n        public double SowingDepth { get; set;}        \r\n        [Description(\"Row spacing (mm)\")]\r\n        public double RowSpacing { get; set;}    \r\n        [Description(\"Plant population (/m2)\")]\r\n        public double Population { get; set;}    \r\n        \r\n        \r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnSimulationCommencing(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain = new Accumulator(this, \"[Weather].Rain\", RainDays);\r\n        }\r\n        \r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain.Update();\r\n            \r\n            if (DateUtilities.WithinDates(StartDate,Clock.Today,EndDate) &&\r\n                !Wheat.IsAlive &&\r\n                MathUtilities.Sum(Soil.SoilWater.ESW) > MinESW &&\r\n                accumulatedRain.Sum > MinRain)\r\n            {\r\n               Wheat.Sow(population:Population, cultivar:CultivarName, depth:SowingDepth, rowSpacing:RowSpacing);    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "StartDate",
                      "Value": "1-mar"
                    },
                    {
                      "Key": "EndDate",
                      "Value": "30-mar"
                    },
                    {
                      "Key": "MinESW",
                      "Value": "0"
                    },
                    {
                      "Key": "MinRain",
                      "Value": "0"
                    },
                    {
                      "Key": "RainDays",
                      "Value": "0"
                    },
                    {
                      "Key": "CultivarName",
                      "Value": "MacKellar"
                    },
                    {
                      "Key": "SowingDepth",
                      "Value": "30"
                    },
                    {
                      "Key": "RowSpacing",
                      "Value": "180"
                    },
                    {
                      "Key": "Population",
                      "Value": "200"
                    }
                  ],
                  "Name": "SowingRule",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        \r\n        \r\n        [Description(\"Amount of fertiliser to be applied (kg/ha)\")]\r\n        public double Amount { get; set;}\r\n        \r\n        [Description(\"Crop to be fertilised\")]\r\n        public string CropName { get; set;}\r\n        \r\n        \r\n        \r\n\r\n        [EventSubscribe(\"Sowing\")]\r\n        private void OnSowing(object sender, EventArgs e)\r\n        {\r\n            Model crop = sender as Model;\r\n            if (crop.Name.ToLower()==CropName.ToLower())\r\n                Fertiliser.Apply(Amount: Amount, Type: Fertiliser.Types.NO3N);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n",
                  "Parameters": [
                    {
                      "Key": "Amount",
                      "Value": "130"
                    },
                    {
                      "Key": "CropName",
                      "Value": "wheat"
                    }
                  ],
                  "Name": "SowingFertiliser",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Plant Wheat;\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            if (Wheat.IsReadyForHarvesting)\r\n            {\r\n               Wheat.Harvest();\r\n               Wheat.EndCrop();    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [],
                  "Name": "Harvest",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 10.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "Feedlot",
              "Children": [
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 785,
                  "ASCOrder": "Podzolic",
                  "ASCSubOrder": null,
                  "SoilType": "?",
                  "LocalName": null,
                  "Site": "Canberra",
                  "NearestTown": "Canberra",
                  "Region": "Gungahlin District",
                  "State": "Australian Capital Territory",
                  "Country": "Australia",
                  "NaturalVegetation": null,
                  "ApsoilNumber": "580-YP",
                  "Latitude": -35.201,
                  "Longitude": 149.082,
                  "LocationAccuracy": null,
                  "DataSource": "YP. Ginnenderra Experiment Station (GES). Data provided by James Hunt, based on measurements by John Kirkegaard, characterisation done by Julianne Lilley. Ginnenderra Experiment Station",
                  "Comments": null,
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.42,
                        1.42,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48
                      ],
                      "AirDry": [
                        0.04,
                        0.04,
                        0.05,
                        0.06,
                        0.08,
                        0.08,
                        0.09,
                        0.11,
                        0.11,
                        0.11,
                        0.11
                      ],
                      "LL15": [
                        0.059,
                        0.064,
                        0.085,
                        0.114,
                        0.13,
                        0.137,
                        0.141,
                        0.15,
                        0.161,
                        0.174,
                        0.174
                      ],
                      "DUL": [
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21
                      ],
                      "SAT": [
                        0.408,
                        0.408,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427
                      ],
                      "KS": null,
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.059,
                            0.064,
                            0.085,
                            0.114,
                            0.13,
                            0.137,
                            0.141,
                            0.15,
                            0.161,
                            0.174,
                            0.174
                          ],
                          "KL": [
                            0.08,
                            0.08,
                            0.06,
                            0.05,
                            0.04,
                            0.03,
                            0.03,
                            0.02,
                            0.02,
                            0.01,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            0.7,
                            0.4,
                            0.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "WheatSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 6.0,
                      "SummerCona": 2.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 2.0,
                      "WinterCona": 2.0,
                      "DiffusConst": 88.0,
                      "DiffusSlope": 35.4,
                      "Salb": 0.13,
                      "CN2Bare": 72.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "SWCON": [
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.6,
                        0.6,
                        0.6
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilNitrogen, Models",
                      "fom_types": [
                        "default",
                        "manure",
                        "mucuna",
                        "lablab",
                        "shemp",
                        "stable"
                      ],
                      "fract_carb": [
                        0.2,
                        0.3,
                        0.54,
                        0.57,
                        0.45,
                        0.0
                      ],
                      "fract_cell": [
                        0.7,
                        0.3,
                        0.37,
                        0.37,
                        0.47,
                        0.1
                      ],
                      "fract_lign": [
                        0.1,
                        0.4,
                        0.09,
                        0.06,
                        0.08,
                        0.9
                      ],
                      "Name": "SoilNitrogen",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilNitrogenNO3, Models",
                          "Name": "NO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenNH4, Models",
                          "Name": "NH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenUrea, Models",
                          "Name": "Urea",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNO3, Models",
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNH4, Models",
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "FOMCNRatio": 80.0,
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "Carbon": [
                        2.2,
                        0.5,
                        0.3,
                        0.2,
                        0.2,
                        0.15,
                        0.15,
                        0.1,
                        0.08,
                        0.06,
                        0.04
                      ],
                      "SoilCNRatio": [
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0
                      ],
                      "FBiom": [
                        0.06,
                        0.05,
                        0.03,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.0,
                        0.0,
                        0.3,
                        0.4,
                        0.5,
                        0.6,
                        0.8,
                        0.9,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        671.21308625009522,
                        577.71845721633736,
                        427.98435952999409,
                        368.36955203263562,
                        272.89487609013867,
                        234.88279657631006,
                        174.00545542840794,
                        110.95077691692059,
                        70.74533880653577,
                        52.409436016183129,
                        38.825865136441131
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "NO3N": [
                        0.37707390648567118,
                        0.37707390648567118,
                        0.37707390648567118,
                        0.37707390648567096,
                        0.3770739064856713,
                        0.3770739064856713,
                        0.37707390648567096,
                        0.3770739064856713,
                        0.3770739064856713,
                        0.3770739064856713,
                        1.0
                      ],
                      "NH4N": [
                        0.037707390648567117,
                        0.037707390648567117,
                        0.037707390648567117,
                        0.037707390648567124,
                        0.03770739064856711,
                        0.037707390648567124,
                        0.037707390648567124,
                        0.0377073906485671,
                        0.037707390648567124,
                        0.037707390648567124,
                        0.2
                      ],
                      "PH": [
                        5.1,
                        5.1,
                        5.3,
                        5.3,
                        5.9,
                        5.9,
                        6.4,
                        6.4,
                        6.8,
                        6.8,
                        6.8
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 0,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-180"
                      ],
                      "Thickness": [
                        1800.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": null,
                      "OC": null,
                      "EC": null,
                      "CL": null,
                      "ESP": null,
                      "PH": null,
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.MicroClimate, Models",
                  "a_interception": 0.0,
                  "b_interception": 1.0,
                  "c_interception": 0.0,
                  "d_interception": 0.0,
                  "soil_albedo": 0.3,
                  "SoilHeatFluxFraction": 0.4,
                  "MinimumHeightDiffForNewLayer": 0.0,
                  "NightInterceptionFraction": 0.5,
                  "ReferenceHeight": 2.0,
                  "Name": "MicroClimate",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today"
                  ],
                  "EventNames": [
                    ""
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "WheatNotGrazed",
              "Children": [
                {
                  "$type": "Models.Fertiliser, Models",
                  "Name": "Fertiliser",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 785,
                  "ASCOrder": "Podzolic",
                  "ASCSubOrder": null,
                  "SoilType": "?",
                  "LocalName": null,
                  "Site": "Canberra",
                  "NearestTown": "Canberra",
                  "Region": "Gungahlin District",
                  "State": "Australian Capital Territory",
                  "Country": "Australia",
                  "NaturalVegetation": null,
                  "ApsoilNumber": "580-YP",
                  "Latitude": -35.201,
                  "Longitude": 149.082,
                  "LocationAccuracy": null,
                  "DataSource": "YP. Ginnenderra Experiment Station (GES). Data provided by James Hunt, based on measurements by John Kirkegaard, characterisation done by Julianne Lilley. Ginnenderra Experiment Station",
                  "Comments": null,
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.42,
                        1.42,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48,
                        1.48
                      ],
                      "AirDry": [
                        0.04,
                        0.04,
                        0.05,
                        0.06,
                        0.08,
                        0.08,
                        0.09,
                        0.11,
                        0.11,
                        0.11,
                        0.11
                      ],
                      "LL15": [
                        0.059,
                        0.064,
                        0.085,
                        0.114,
                        0.13,
                        0.137,
                        0.141,
                        0.15,
                        0.161,
                        0.174,
                        0.174
                      ],
                      "DUL": [
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21,
                        0.21
                      ],
                      "SAT": [
                        0.408,
                        0.408,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427,
                        0.427
                      ],
                      "KS": null,
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.059,
                            0.064,
                            0.085,
                            0.114,
                            0.13,
                            0.137,
                            0.141,
                            0.15,
                            0.161,
                            0.174,
                            0.174
                          ],
                          "KL": [
                            0.08,
                            0.08,
                            0.06,
                            0.05,
                            0.04,
                            0.03,
                            0.03,
                            0.02,
                            0.02,
                            0.01,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            0.7,
                            0.4,
                            0.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "WheatSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 6.0,
                      "SummerCona": 2.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 2.0,
                      "WinterCona": 2.0,
                      "DiffusConst": 88.0,
                      "DiffusSlope": 35.4,
                      "Salb": 0.13,
                      "CN2Bare": 72.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "SWCON": [
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.8,
                        0.6,
                        0.6,
                        0.6
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilNitrogen, Models",
                      "fom_types": [
                        "default",
                        "manure",
                        "mucuna",
                        "lablab",
                        "shemp",
                        "stable"
                      ],
                      "fract_carb": [
                        0.2,
                        0.3,
                        0.54,
                        0.57,
                        0.45,
                        0.0
                      ],
                      "fract_cell": [
                        0.7,
                        0.3,
                        0.37,
                        0.37,
                        0.47,
                        0.1
                      ],
                      "fract_lign": [
                        0.1,
                        0.4,
                        0.09,
                        0.06,
                        0.08,
                        0.9
                      ],
                      "Name": "SoilNitrogen",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilNitrogenNO3, Models",
                          "Name": "NO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenNH4, Models",
                          "Name": "NH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenUrea, Models",
                          "Name": "Urea",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNO3, Models",
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNH4, Models",
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "FOMCNRatio": 80.0,
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "Carbon": [
                        2.2,
                        0.5,
                        0.3,
                        0.2,
                        0.2,
                        0.15,
                        0.15,
                        0.1,
                        0.08,
                        0.06,
                        0.04
                      ],
                      "SoilCNRatio": [
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0,
                        10.0
                      ],
                      "FBiom": [
                        0.06,
                        0.05,
                        0.03,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.0,
                        0.0,
                        0.3,
                        0.4,
                        0.5,
                        0.6,
                        0.8,
                        0.9,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        671.21308625009522,
                        577.71845721633736,
                        427.98435952999409,
                        368.36955203263562,
                        272.89487609013867,
                        234.88279657631006,
                        174.00545542840794,
                        110.95077691692059,
                        70.74533880653577,
                        52.409436016183129,
                        38.825865136441131
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-10",
                        "10-20",
                        "20-40",
                        "40-50",
                        "50-70",
                        "70-80",
                        "80-100",
                        "100-130",
                        "130-160",
                        "160-180",
                        "180-200"
                      ],
                      "Thickness": [
                        100.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        100.0,
                        200.0,
                        300.0,
                        300.0,
                        200.0,
                        200.0
                      ],
                      "NO3N": [
                        0.37707390648567118,
                        0.37707390648567118,
                        0.37707390648567118,
                        0.37707390648567096,
                        0.3770739064856713,
                        0.3770739064856713,
                        0.37707390648567096,
                        0.3770739064856713,
                        0.3770739064856713,
                        0.3770739064856713,
                        1.0
                      ],
                      "NH4N": [
                        0.037707390648567117,
                        0.037707390648567117,
                        0.037707390648567117,
                        0.037707390648567124,
                        0.03770739064856711,
                        0.037707390648567124,
                        0.037707390648567124,
                        0.0377073906485671,
                        0.037707390648567124,
                        0.037707390648567124,
                        0.2
                      ],
                      "PH": [
                        5.1,
                        5.1,
                        5.3,
                        5.3,
                        5.9,
                        5.9,
                        6.4,
                        6.4,
                        6.8,
                        6.8,
                        6.8
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 0,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-180"
                      ],
                      "Thickness": [
                        1800.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": null,
                      "OC": null,
                      "EC": null,
                      "CL": null,
                      "ESP": null,
                      "PH": null,
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 500.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.PMF.Plant, Models",
                  "ResourceName": "Wheat",
                  "Name": "Wheat",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.MicroClimate, Models",
                  "a_interception": 0.0,
                  "b_interception": 1.0,
                  "c_interception": 0.0,
                  "d_interception": 0.0,
                  "soil_albedo": 0.3,
                  "SoilHeatFluxFraction": 0.4,
                  "MinimumHeightDiffForNewLayer": 0.0,
                  "NightInterceptionFraction": 0.5,
                  "ReferenceHeight": 2.0,
                  "Name": "MicroClimate",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        [Link] Plant Wheat;\r\n        [Link] Soil Soil; \r\n        Accumulator accumulatedRain;\r\n        \r\n        [Description(\"Start of sowing window (d-mmm)\")]\r\n        public string StartDate { get; set;}\r\n        [Description(\"End of sowing window (d-mmm)\")]\r\n        public string EndDate { get; set;}\r\n        [Description(\"Minimum extractable soil water for sowing (mm)\")]\r\n        public double MinESW { get; set;}\r\n        [Description(\"Accumulated rainfall required for sowing (mm)\")]\r\n        public double MinRain { get; set;}\r\n        [Description(\"Duration of rainfall accumulation (d)\")]\r\n        public int RainDays { get; set;}\r\n        [Description(\"Cultivar to be sown\")]\r\n        [Display(Type=DisplayType.CultivarName)]\r\n        public string CultivarName { get; set;}\r\n        [Description(\"Sowing depth (mm)\")]\r\n        public double SowingDepth { get; set;}        \r\n        [Description(\"Row spacing (mm)\")]\r\n        public double RowSpacing { get; set;}    \r\n        [Description(\"Plant population (/m2)\")]\r\n        public double Population { get; set;}    \r\n        \r\n        \r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnSimulationCommencing(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain = new Accumulator(this, \"[Weather].Rain\", RainDays);\r\n        }\r\n        \r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain.Update();\r\n            \r\n            if (DateUtilities.WithinDates(StartDate,Clock.Today,EndDate) &&\r\n                !Wheat.IsAlive &&\r\n                MathUtilities.Sum(Soil.SoilWater.ESW) > MinESW &&\r\n                accumulatedRain.Sum > MinRain)\r\n            {\r\n               Wheat.Sow(population:Population, cultivar:CultivarName, depth:SowingDepth, rowSpacing:RowSpacing);    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "StartDate",
                      "Value": "1-mar"
                    },
                    {
                      "Key": "EndDate",
                      "Value": "30-mar"
                    },
                    {
                      "Key": "MinESW",
                      "Value": "0"
                    },
                    {
                      "Key": "MinRain",
                      "Value": "0"
                    },
                    {
                      "Key": "RainDays",
                      "Value": "0"
                    },
                    {
                      "Key": "CultivarName",
                      "Value": "MacKellar"
                    },
                    {
                      "Key": "SowingDepth",
                      "Value": "30"
                    },
                    {
                      "Key": "RowSpacing",
                      "Value": "180"
                    },
                    {
                      "Key": "Population",
                      "Value": "200"
                    }
                  ],
                  "Name": "SowingRule",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        \r\n        \r\n        [Description(\"Amount of fertiliser to be applied (kg/ha)\")]\r\n        public double Amount { get; set;}\r\n        \r\n        [Description(\"Crop to be fertilised\")]\r\n        public string CropName { get; set;}\r\n        \r\n        \r\n        \r\n\r\n        [EventSubscribe(\"Sowing\")]\r\n        private void OnSowing(object sender, EventArgs e)\r\n        {\r\n            Model crop = sender as Model;\r\n            if (crop.Name.ToLower()==CropName.ToLower())\r\n                Fertiliser.Apply(Amount: Amount, Type: Fertiliser.Types.NO3N);\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n",
                  "Parameters": [
                    {
                      "Key": "Amount",
                      "Value": "130"
                    },
                    {
                      "Key": "CropName",
                      "Value": "wheat"
                    }
                  ],
                  "Name": "SowingFertiliser",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Plant Wheat;\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            if (Wheat.IsReadyForHarvesting)\r\n            {\r\n               Wheat.Harvest();\r\n               Wheat.EndCrop();    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [],
                  "Name": "Harvest",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowPageOfGraphs": true,
              "Name": "Graphs",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Sheep number",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportStock",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "Stock.NumberAll",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": false,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Series1",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": "Sheep liveweight (kg)",
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Animal Liveweight",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -3376729,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportStock",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "SheepWeight(1)",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "group1",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -1663232,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportStock",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "SheepWeight(2)",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "group2",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -11094807,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportStock",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "SheepWeight(3)",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "group3",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": "Wheat biomass",
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": "Date",
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": "Yield (kg/ha)",
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Wheat biomass",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16736653,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportBiomass",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "TotalBiomass",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Biomass",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -1663232,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportBiomass",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "TotalYield",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Yield",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 0,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Supp intake",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -11094807,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "ReportSupplement",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "stock.SuppIntake(1).Weight",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Series1",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -3376729,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 1,
                      "LineThickness": 0,
                      "TableName": "ReportSupplement",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "stock.SuppIntake(2).Weight",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Series2",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16777216,
                      "FactorToVaryColours": null,
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 2,
                      "LineThickness": 0,
                      "TableName": "ReportSupplement",
                      "XFieldName": "Clock.Today",
                      "YFieldName": "stock.SuppIntake(3).Weight",
                      "X2FieldName": null,
                      "Y2FieldName": null,
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Series3",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Graph, Models",
              "Caption": "This graph shows the impact of grazing on the wheat crop.",
              "Axis": [
                {
                  "$type": "Models.Axis, Models",
                  "Type": 3,
                  "Title": "Date",
                  "Inverted": false,
                  "Minimum": "NaN",
                  "Maximum": "NaN",
                  "Interval": "NaN",
                  "DateTimeAxis": false,
                  "CrossesAtZero": false
                },
                {
                  "$type": "Models.Axis, Models",
                  "Type": 0,
                  "Title": "Yield (kg/ha)",
                  "Inverted": false,
                  "Minimum": "NaN",
                  "Maximum": "NaN",
                  "Interval": "NaN",
                  "DateTimeAxis": false,
                  "CrossesAtZero": false
                }
              ],
              "LegendPosition": 0,
              "LegendOrientation": 0,
              "DisabledSeries": [],
              "LegendOutsideGraph": false,
              "Name": "Wheat biomass",
              "Children": [
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -16736653,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 0,
                  "LineThickness": 0,
                  "TableName": "ReportBiomass",
                  "XFieldName": "Clock.Today",
                  "YFieldName": "TotalBiomass",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": true,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "Biomass",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -1663232,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 0,
                  "LineThickness": 0,
                  "TableName": "ReportBiomass",
                  "XFieldName": "Clock.Today",
                  "YFieldName": "TotalYield",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": true,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "Yield",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -16736653,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 2,
                  "LineThickness": 0,
                  "TableName": "ReportBiomass",
                  "XFieldName": "Clock.Today",
                  "YFieldName": "TotalBiomassUngrazed",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": true,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "BiomassUngrazed",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Series, Models",
                  "Type": 1,
                  "XAxis": 3,
                  "YAxis": 0,
                  "ColourArgb": -1663232,
                  "FactorToVaryColours": null,
                  "FactorToVaryMarkers": null,
                  "FactorToVaryLines": null,
                  "Marker": 11,
                  "MarkerSize": 0,
                  "Line": 2,
                  "LineThickness": 0,
                  "TableName": "ReportBiomass",
                  "XFieldName": "Clock.Today",
                  "YFieldName": "TotalYieldUngrazed",
                  "X2FieldName": null,
                  "Y2FieldName": null,
                  "ShowInLegend": true,
                  "IncludeSeriesNameInLegend": true,
                  "Cumulative": false,
                  "CumulativeX": false,
                  "Filter": null,
                  "Name": "YieldUngrazed",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowPageOfGraphs": true,
      "Name": "MassBalanceCheck",
      "Children": [
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Name": "MassBalanceForage",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "This simulation checks the mass balance of animal / **plant** interactions. The plant model used is a PMF Slurp model that doesn't simulate plant growth. This makes it much easier to check mass balance.\n\nThe checks are done in the MassBalanceCalculations manager script.\n\nThe script first calculates the amount of pasture removed:\n\n\tPastureRemoved = StartOfDayPasture - EndOfDayPasture;\n\nand the weight gain of the animals on a day.\n\n\tLiveWeightGain = EndOfDayAnimal - StartOfDayAnimal;\n\nIt then calculates two balance terms that should be zero. The first checks that pasture removed = animal intake.\n\n\tLostWt = PastureRemoved.Wt - Intake.Wt; \n\nThe second checks that N in the pasture removed = excreta N + the N retained by the animal. \n\n\tLostN = PastureRemoved.N - (Excreta.N + LiveWeightGain.N);\n\nA check is then made (on day 1 of the simulation) that the faeces from the animal is added to the surface organic matter (som) model:\n\n\tif (!MathUtilities.FloatsAreEqual(animals.FaecesAll.Weight, som.Wt))\n\t\tthrow new Exception(\"Mass balance error: The animal faeces weight on day 1 is not equal to surface organic matter weight.\");\n\nA check is then made (on day 1 of the simulation) that the urine from the animal is added to the soil urea pool:\n\n\tif (!MathUtilities.FloatsAreEqual(animals.UrineNAll, MathUtilities.Sum(urea.kgha)))\n\t\tthrow new Exception(\"Mass balance error: The animal urine on day 1 is not equal to soil urea amount.\");\n\nThese last checks are only done on day 1 because flows in and out of SOM and Urea pools make it difficult to calculate mass balance. The assumption is that if it works on day 1 it works for all other days.\n",
              "Name": "Memo",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Clock, Models",
              "Start": "2000-01-01T00:00:00",
              "End": "2000-05-31T00:00:00",
              "Name": "Clock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "CaptureErrors": true,
              "CaptureWarnings": true,
              "CaptureSummaryText": true,
              "Name": "SummaryFile",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Weather, Models",
              "FileName": "%root%\\Examples\\WeatherFiles\\lincoln.met",
              "ExcelWorkSheetName": "",
              "Name": "Weather",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.GrazPlan.Stock, Models",
              "randFactory": {
                "$type": "StdUnits.MyRandom, Models"
              },
              "RandSeed": 9999,
              "StockModel": null,
              "Name": "Stock",
              "Children": [
                {
                  "$type": "Models.GrazPlan.GenotypeCross, Models",
                  "AnimalType": null,
                  "PureBredBreed": null,
                  "DamBreed": "Friesian",
                  "SireBreed": "Jersey",
                  "MatureDeathRate": 0.0,
                  "WeanerDeathRate": 0.0,
                  "Conception": [
                    0.0,
                    1.0,
                    0.0,
                    0.0
                  ],
                  "Generation": 1,
                  "SRW": 550.0,
                  "PotFleeceWt": 0.0,
                  "MaxFibreDiam": 0.0,
                  "FleeceYield": 0.0,
                  "PeakMilk": 35.0,
                  "Name": "NZFriesianCross",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.GrazPlan.Supplement, Models",
              "SpoilageTime": 0.0,
              "Stores": [
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "fodder",
                  "Stored": 0.0,
                  "IsRoughage": true,
                  "DMContent": 0.85,
                  "DMD": 0.0,
                  "MEContent": 0.0,
                  "CPConc": 0.0,
                  "ProtDg": 0.0,
                  "PConc": 0.0,
                  "SConc": 0.0,
                  "EEConc": 0.0,
                  "ADIP2CP": 0.0,
                  "AshAlk": 0.0,
                  "MaxPassage": 0.0
                },
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "wheat, crushed",
                  "Stored": 500000.0,
                  "IsRoughage": false,
                  "DMContent": 1.0,
                  "DMD": 0.9,
                  "MEContent": 13.8,
                  "CPConc": 0.14,
                  "ProtDg": 0.92,
                  "PConc": 0.0038,
                  "SConc": 0.0014000000000000002,
                  "EEConc": 0.02,
                  "ADIP2CP": 0.02,
                  "AshAlk": 0.18,
                  "MaxPassage": 0.0
                },
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "silage",
                  "Stored": 50000.0,
                  "IsRoughage": true,
                  "DMContent": 1.0,
                  "DMD": 0.70000000000000007,
                  "MEContent": 10.0,
                  "CPConc": 0.25,
                  "ProtDg": 0.8,
                  "PConc": 0.0032,
                  "SConc": 0.0024,
                  "EEConc": 0.02,
                  "ADIP2CP": 0.06,
                  "AshAlk": 0.6,
                  "MaxPassage": 0.0
                }
              ],
              "PaddockList": [],
              "Name": "Supplement",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "using Models.PMF.Interfaces;\r\nusing System.Diagnostics;\r\nusing Models.AgPasture;\r\nusing System.Linq;\r\nusing System.Collections.Generic;\r\nusing System.Collections;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing System.Xml.Serialization;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.GrazPlan;\r\nusing Models.Utilities;\r\nusing Models.Core;\r\nusing Models;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] Stock stock;\r\n        [Link] Supplement supplement;\r\n        [Link] List<Zone> paddocks;\r\n        [Link] ISummary summary;\r\n        [Link] Simulation farm;\r\n        [Link] List<IPlantDamage> forages = null;\r\n\r\n        private int CurrentGroupNum = 1;    // animal group number\r\n        private int CurrentLocationNum { get; set; }\r\n\r\n        [Separator(\"Stock type info, the same type of stock are brought onto the paddock at each grazing\")]\r\n\r\n        [Description(\"Stock: genotype (e.g. Small Merino, Angus, Friesian):\")] \r\n        [Display(Values=\"GetGenotypes\")]\r\n        public string Genotype { get; set; }\r\n\r\n        [Description(\"Stock: sex (Female, Male, Castrate):\")] \r\n        public ReproductiveType Sex { get; set; }\r\n\r\n        [Description(\"Stock: age (months):\")] \r\n        public double Age { get; set; }\r\n\r\n        [Description(\"Stock: weight (kg liveweight /head):\")] \r\n        public double Weight { get; set; }\r\n\r\n        [Description(\"Stock: fertility status (0 if non-pregnant or days since conception):\")] \r\n        public int Pregnant { get; set; }\r\n\r\n        [Description(\"Stock: lactation status (0 if non-lactating or days since parturition):\")]\r\n        public int Lactating { get; set; }\r\n\r\n        [Description(\"Stock: number of unweaned young:\")]\r\n        public int YoungNumber { get; set; }\r\n\r\n        [Description(\"Stock: weight of unweaned young:\")] \r\n        public double YoungWt { get; set; }\r\n\r\n        [Separator(\"Grazing event information\")]\r\n\r\n        [Description(\"Paddock stocking rate (head/ha): \")] \r\n        public double StockingRate { get; set; }\r\n\r\n        [Description(\"Initial location of the cows (give either the paddock name or 'Away'): \")] \r\n        public string CurrentLocation { get; set; }\r\n\r\n        [Description(\"Standing biomass at which to bring the stock into the simulation (kg DM/ha): \")] \r\n        public double PreGrazingDM { get; set; }\r\n\r\n        [Description(\"Standing biomass at which to exit  stock from the simulation (kg DM/ha): \")] \r\n        public double PostGrazingDM { get; set; }\r\n\r\n        [Description(\"Don't move the stock onto the crop unless there is approx. X days of grazable forage available: \")] \r\n        public int MinGrazingDays { get; set; }\r\n\r\n        [Description(\"Implement a no-grazing window? (tick for yes): \")] \r\n        public bool DoNoGrazingWindow { get; set; }\r\n\r\n        [Description(\"Start of the no-grazing window (dd-MMM)\")] \r\n        public string NoGrazeStart { get; set; }\r\n\r\n        [Description(\"End of the no-grazing window (dd-MMM)\")] \r\n        public string NoGrazeEnd { get; set; }\r\n\r\n        [Separator(\"Supplementary feeding\")]\r\n\r\n        [Description(\"Name of the supplement to feed: \")] \r\n        public string SupplementName { get; set; }\r\n\r\n        [Description(\"Feed the supplement first (i.e. before the new forage is available to the stock)?: \")] \r\n        public bool SupplementFirst { get; set; }\r\n\r\n        [Description(\"Amount of supplementary feeding offered every day (kg DM /head /day): \")] \r\n        public double SupplementEveryDay { get; set; }\r\n\r\n        [Description(\"Additional amount of supplement offered when available biomass is low (kg DM /head /day): \")] \r\n        public double SupplementOnPastureMass { get; set; }\r\n\r\n        [Description(\"Trigger biomass for above rule (kg DM /ha): \")] \r\n        public double TriggerPastureMass { get; set; }\r\n\r\n        public int NumStock { get; set; }\r\n        public bool GrazingSeasonIsOpen { get; set; } // number of cows on the whole farm\r\n        public double HarvestableBiomass { get; set; }\r\n\r\n        // Return a list of genotypes to the properties tab.\r\n        public string[] GetGenotypes()\r\n        {\r\n            if (stock != null)\r\n                return stock.Genotypes.Names.ToArray();\r\n            return null;\r\n        }\r\n\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {\r\n\r\n            //Debugger.Break();\r\n\r\n            summary.WriteMessage(this, \"Initialising the paddock information\");\r\n\r\n            NumStock = (int)(Math.Round(StockingRate * farm.Area, 0));\r\n\r\n            if ((CurrentLocation.ToLower() != \"away\") && (NumStock > 0))\r\n            {\r\n                BuyStock();\r\n                stock.Move(CurrentLocation);\r\n                summary.WriteMessage(this, \" The Stock have been moved to \" + CurrentLocation);\r\n            }\r\n\r\n            summary.WriteMessage(this, \"     The number of animals has been rounded to \" + NumStock + \" from \" + (StockingRate * farm.Area));\r\n            summary.WriteMessage(this, \"     The animals will begin in \" + CurrentLocation + \" which is paddock number \" + CurrentLocationNum + \" in the simulation\");\r\n            summary.WriteMessage(this, \"     The area of the whole farm is \" + farm.Area + \" ha\");\r\n\r\n        }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            GrazingSeasonIsOpen = true;\r\n            if (DoNoGrazingWindow)\r\n                GrazingSeasonIsOpen = !DateUtilities.WithinDates(NoGrazeStart, clock.Today, NoGrazeEnd);\r\n\r\n            bool sellSomeStock = false;\r\n            if (!GrazingSeasonIsOpen)\r\n                sellSomeStock = true;\r\n\r\n            // Calculate forage mass in the paddock\r\n            HarvestableBiomass = 0.0;\r\n            foreach (var forage in forages)\r\n                foreach (var forageOrgan in forage.Organs)\r\n                    if (forageOrgan.IsAboveGround)\r\n                        HarvestableBiomass += forageOrgan.Live.Wt + forageOrgan.Dead.Wt;\r\n            HarvestableBiomass *= 10;  // Convert to kg/ha\r\n\r\n            if (HarvestableBiomass <= PostGrazingDM)\r\n                sellSomeStock = true;\r\n\r\n            if (CurrentLocation == \"Away\")\r\n                sellSomeStock = false;\r\n\r\n            double minFodder = 0.03 * MinGrazingDays * NumStock * Weight; // The 0.03 is the propostion of body mass that the stock might eat\r\n            if (CurrentLocation == \"Away\" && NumStock > 0 && (HarvestableBiomass >= PreGrazingDM) && HarvestableBiomass >= (PostGrazingDM + minFodder) && GrazingSeasonIsOpen)\r\n            {\r\n                CurrentLocation = paddocks[0].Name;\r\n                CurrentLocationNum = paddocks[0].Index;\r\n                BuyStock();\r\n                stock.Move(CurrentLocation);\r\n                summary.WriteMessage(this, \"     Buying stock \");\r\n            }\r\n\r\n            if (sellSomeStock)\r\n            {\r\n                CurrentLocation = \"Away\";\r\n                CurrentLocationNum = -1;\r\n                SellStock();\r\n                summary.WriteMessage(this, \"     Selling stock \");\r\n            }\r\n\r\n            if (CurrentLocation != \"Away\")\r\n            {\r\n                if (SupplementEveryDay > 0)\r\n                {\r\n                    double silageOnHand = supplement.Stores[2 - 1].Stored;\r\n                    if (silageOnHand < SupplementEveryDay * stock.NumberAll)\r\n                    {\r\n                        supplement.Buy(SupplementEveryDay * 30.0 * stock.NumberAll, SupplementName);  // i.e. 1 months worth\r\n                        summary.WriteMessage(this, \"SupplementEveryDay: Buying \" + SupplementName + \" of total amount : \" + (SupplementEveryDay * 90 * stock.NumberAll) + \" kg DM\");\r\n                    }\r\n                    supplement.Feed(SupplementName, SupplementEveryDay * stock.NumberAll, CurrentLocation, SupplementFirst);\r\n                }\r\n\r\n                if (SupplementOnPastureMass > 0 && HarvestableBiomass <= TriggerPastureMass)\r\n                {\r\n                    double silageOnHand = supplement.Stores[2 - 1].Stored;\r\n                    if (silageOnHand < SupplementOnPastureMass * stock.NumberAll)\r\n                    {\r\n                        supplement.Buy(SupplementOnPastureMass * 30.0 * stock.NumberAll, SupplementName);  // i.e. 1 months worth\r\n                        summary.WriteMessage(this, \"SupplementOnBiomass: Buying \" + SupplementName + \" of total amount : \" + (SupplementOnPastureMass * 90 * stock.NumberAll) + \" kg DM\");\r\n                    }\r\n                    supplement.Feed(SupplementName, SupplementOnPastureMass * stock.NumberAll, CurrentLocation, SupplementFirst);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        public void BuyStock()\r\n        {\r\n            CurrentGroupNum = stock.NoGroups + 1;\r\n            StockBuy purchase = new StockBuy();\r\n            purchase.Genotype = Genotype;\r\n            purchase.Number = NumStock;\r\n            purchase.Sex = Sex;\r\n            purchase.Age = Age;       // age in months\r\n            purchase.Weight = Weight;  // live weight in kg\r\n            purchase.UseTag = CurrentGroupNum + 1;\r\n            purchase.MatedTo = purchase.Genotype;\r\n            purchase.Pregnant = Pregnant;  // days pregnant, 0 = non pregnant, 1 = pregnant\r\n            purchase.Lactating = Lactating;  // 0 for dry, 1 for lactating\r\n            purchase.NumYoung = YoungNumber;\r\n            purchase.YoungWt = YoungWt;\r\n\r\n            stock.Buy(purchase);\r\n        }\r\n\r\n        public void SellStock()\r\n        {\r\n            int NumGroups = stock.NoGroups;\r\n\r\n            NumGroups = stock.NoGroups;\r\n            for (int gg = 1; gg <= NumGroups; gg++)\r\n            {\r\n                stock.Sell(stock.Number[gg - 1]);\r\n            }\r\n        }\r\n    }\r\n}\r\n",
              "Parameters": [
                {
                  "Key": "Genotype",
                  "Value": "NZFriesianCross"
                },
                {
                  "Key": "Sex",
                  "Value": "Female"
                },
                {
                  "Key": "Age",
                  "Value": "6"
                },
                {
                  "Key": "Weight",
                  "Value": "100"
                },
                {
                  "Key": "Pregnant",
                  "Value": "0"
                },
                {
                  "Key": "Lactating",
                  "Value": "0"
                },
                {
                  "Key": "YoungNumber",
                  "Value": "0"
                },
                {
                  "Key": "YoungWt",
                  "Value": "0"
                },
                {
                  "Key": "StockingRate",
                  "Value": "1"
                },
                {
                  "Key": "CurrentLocation",
                  "Value": "Paddock"
                },
                {
                  "Key": "PreGrazingDM",
                  "Value": "2800"
                },
                {
                  "Key": "PostGrazingDM",
                  "Value": "50"
                },
                {
                  "Key": "MinGrazingDays",
                  "Value": "0"
                },
                {
                  "Key": "DoNoGrazingWindow",
                  "Value": "False"
                },
                {
                  "Key": "NoGrazeStart",
                  "Value": "15-jun"
                },
                {
                  "Key": "NoGrazeEnd",
                  "Value": "31-jul"
                },
                {
                  "Key": "SupplementName",
                  "Value": "silage"
                },
                {
                  "Key": "SupplementFirst",
                  "Value": "False"
                },
                {
                  "Key": "SupplementEveryDay",
                  "Value": "0"
                },
                {
                  "Key": "SupplementOnPastureMass",
                  "Value": "0"
                },
                {
                  "Key": "TriggerPastureMass",
                  "Value": "2100"
                },
                {
                  "Key": "NumStock",
                  "Value": "0"
                },
                {
                  "Key": "GrazingSeasonIsOpen",
                  "Value": "False"
                },
                {
                  "Key": "HarvestableBiomass",
                  "Value": "0"
                }
              ],
              "Name": "GrazeForageCrop",
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "using Models.Surface;\r\nusing Models.PMF.Interfaces;\r\nusing System.Diagnostics;\r\nusing Models.AgPasture;\r\nusing System.Linq;\r\nusing System.Collections.Generic;\r\nusing System.Collections;\r\nusing Models.Soils;\r\nusing Models.PMF.Organs;\r\nusing Models.PMF;\r\nusing System.Xml.Serialization;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.GrazPlan;\r\nusing Models.Interfaces;\r\nusing Models.Utilities;\r\nusing Models.Core;\r\nusing Models;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] IOrganDamage[] forages;\r\n        [Link] Stock animals;\r\n        [Link] Zone paddocks;\r\n        [Link] ISummary summary;\r\n        [Link] Simulation farm;\r\n        [Link] Supplement supplement;\r\n        [Link] SurfaceOrganicMatter som;\r\n        [Link(ByName=true)] ISolute urea;\r\n\r\n        public BiomassAndN StartOfDayPasture { get; set; }\r\n        public BiomassAndN EndOfDayPasture { get; set; }\r\n        public BiomassAndN StartOfDaySupplement { get; set; }\r\n        public BiomassAndN EndOfDaySupplement { get; set; }\r\n        public BiomassAndN StartOfDayAnimal { get; set; }\r\n        public BiomassAndN EndOfDayAnimal { get; set; }\r\n        public BiomassAndN PastureRemoved { get; set; }\r\n        public BiomassAndN SupplementRemoved { get; set; }\r\n        public BiomassAndN LiveWeightGain { get; set; }\r\n        public BiomassAndN Intake { get; set; }\r\n        public BiomassAndN Excreta { get; set; }\r\n\r\n        public double LostN { get; set; } \r\n        public double LostWt { get; set; } \r\n\r\n        // Start of simulation\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStart(object sender, EventArgs e)\r\n        {\r\n            forages = forages.Where(forage => forage.IsAboveGround && !(forage is SurfaceOrganicMatter)).ToArray();\r\n        }\r\n\r\n        // Start of day\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            StartOfDaySupplement = new BiomassAndN() \r\n            { \r\n                Wt = supplement.Stores.Sum(supp => supp.Stored),\r\n                N = supplement.Stores[1].CPConc / 6.25 * supplement.Stores.Sum(supp => supp.Stored),\r\n            };\r\n            StartOfDayPasture = new BiomassAndN() \r\n            { \r\n                Wt = forages.Sum(forage => forage.Live.Wt * 10),\r\n                N = forages.Sum(forage => forage.Live.N * 10),\r\n            };\r\n            StartOfDayAnimal = new BiomassAndN() \r\n            { \r\n                Wt = animals.WeightAll,\r\n                N = 0,\r\n            };\r\n        }\r\n\r\n        // End of day\r\n        [EventSubscribe(\"DoManagementCalculations\")]\r\n        private void OnDoManagementCalculations(object sender, EventArgs e)\r\n        {\r\n            EndOfDaySupplement = new BiomassAndN() \r\n            { \r\n                Wt = supplement.Stores.Sum(supp => supp.Stored),\r\n                N = supplement.Stores[1].CPConc / 6.25 * supplement.Stores.Sum(supp => supp.Stored),\r\n            };\r\n            EndOfDayPasture = new BiomassAndN() \r\n            { \r\n                Wt = forages.Sum(forage => forage.Live.Wt * 10),\r\n                N = forages.Sum(forage => forage.Live.N * 10),\r\n            };\r\n            EndOfDayAnimal = new BiomassAndN() \r\n            { \r\n                Wt = animals.WeightAll,\r\n                N = animals.RetainedNAll,    // kg/d\r\n            };\r\n\r\n            Intake = new BiomassAndN()\r\n            {\r\n                Wt = animals.IntakeAll.Weight,\r\n                N = animals.IntakeAll.N,\r\n            };\r\n            Excreta = new BiomassAndN()\r\n            {\r\n                Wt = animals.FaecesAll.Weight,\r\n                N = animals.FaecesAll.N + animals.UrineNAll,\r\n            };\r\n\r\n            PastureRemoved = StartOfDayPasture - EndOfDayPasture;\r\n            SupplementRemoved = StartOfDaySupplement - EndOfDaySupplement;\r\n            LiveWeightGain = EndOfDayAnimal - StartOfDayAnimal;\r\n\r\n            // balance calculations\r\n            LostWt = PastureRemoved.Wt - Intake.Wt; \r\n            LostN = PastureRemoved.N - (Excreta.N + LiveWeightGain.N);  \r\n\r\n            if (!MathUtilities.FloatsAreEqual(LostWt, 0))\r\n                throw new Exception(\"Mass balance error: Forage mass removed is not equal to animal intake.\");\r\n            if (!MathUtilities.FloatsAreEqual(LostN, 0))\r\n                throw new Exception(\"Mass balance error: N balance error.\");\r\n\r\n            if (clock.Today.DayOfYear == 1)\r\n            {\r\n                if (!MathUtilities.FloatsAreEqual(animals.FaecesAll.Weight, som.Wt))\r\n                    throw new Exception(\"Mass balance error: The animal faeces weight on day 1 is not equal to surface organic matter weight.\");\r\n                if (!MathUtilities.FloatsAreEqual(animals.UrineNAll, MathUtilities.Sum(urea.kgha)))\r\n                    throw new Exception(\"Mass balance error: The animal urine on day 1 is not equal to soil urea amount.\");\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    // Helper class for containing a mass and and N concentration.\r\n    [Serializable]\r\n    public class BiomassAndN\r\n    {\r\n        public double Wt { get; set; }\r\n        public double N { get; set; }\r\n        public static BiomassAndN operator +(BiomassAndN a, BiomassAndN b)\r\n        {\r\n            return new BiomassAndN()\r\n            {\r\n                Wt = a.Wt + b.Wt,\r\n                N = a.N + b.N,\r\n            };\r\n\r\n        }\r\n        public static BiomassAndN operator -(BiomassAndN a, BiomassAndN b)\r\n        {\r\n            return new BiomassAndN()\r\n            {\r\n                Wt = a.Wt - b.Wt,\r\n                N = a.N - b.N,\r\n            };\r\n        }\r\n    }\r\n}\r\n",
              "Parameters": [
                {
                  "Key": "StartOfDayPasture",
                  "Value": ""
                },
                {
                  "Key": "EndOfDayPasture",
                  "Value": ""
                },
                {
                  "Key": "StartOfDaySupplement",
                  "Value": ""
                },
                {
                  "Key": "EndOfDaySupplement",
                  "Value": ""
                },
                {
                  "Key": "StartOfDayAnimal",
                  "Value": ""
                },
                {
                  "Key": "EndOfDayAnimal",
                  "Value": ""
                },
                {
                  "Key": "PastureRemoved",
                  "Value": ""
                },
                {
                  "Key": "SupplementRemoved",
                  "Value": ""
                },
                {
                  "Key": "LiveWeightGain",
                  "Value": ""
                },
                {
                  "Key": "Intake",
                  "Value": ""
                },
                {
                  "Key": "Excreta",
                  "Value": ""
                },
                {
                  "Key": "LostN",
                  "Value": "0"
                },
                {
                  "Key": "LostWt",
                  "Value": "0"
                }
              ],
              "Name": "MassBalanceCalculations",
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Report, Models",
              "VariableNames": [
                "[Clock].Today as Date",
                "[Stock].NumberAll",
                "[Stock].WeightAll",
                "[MassBalanceCalculations].Script.SupplementRemoved as SupplementRemoved",
                "[MassBalanceCalculations].Script.PastureRemoved as PastureRemoved",
                "[MassBalanceCalculations].Script.Intake as Intake",
                "[MassBalanceCalculations].Script.Excreta as Excreta",
                "[MassBalanceCalculations].Script.LiveWeightGain as LiveWeightGain",
                "[MassBalanceCalculations].Script.LostN as LostN",
                "[MassBalanceCalculations].Script.LostWt as LostWt",
                "[SurfaceOrganicMatter].Wt",
                "[SurfaceOrganicMatter].N",
                "[Stock].FaecesAll",
                "[Stock].UrineNAll",
                "sum([Urea].kgha) as SoilUrea"
              ],
              "EventNames": [
                "[Clock].EndOfDay"
              ],
              "GroupByVariableName": null,
              "Name": "Report",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "Paddock",
              "Children": [
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using System.Linq;\r\nusing System;\r\nusing Models.Core;\r\nusing Models.PMF;\r\nusing Models.PMF.Organs;\r\nusing System.Data;\r\n    \r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Plant slurp;\r\n\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStartOfSimulation(object sender, EventArgs e)\r\n        {\r\n            var slurpLeaf = Apsim.Child(slurp, typeof(SimpleLeaf)) as SimpleLeaf;\r\n\r\n            double wt = 500; // g/m2\r\n            slurpLeaf.Live.StructuralWt = wt;\r\n            slurpLeaf.Live.StorageWt = 0;\r\n            slurpLeaf.Live.StructuralN = wt * slurpLeaf.MinNconc;\r\n            slurpLeaf.Live.StorageN = wt * slurpLeaf.MaxNconc - slurpLeaf.Live.StructuralN;\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [],
                  "Name": "SlurpSetup",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.PMF.Plant, Models",
                  "ResourceName": "Slurp",
                  "Name": "Slurp",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 0,
                  "ASCOrder": "Vertosol",
                  "ASCSubOrder": "Black",
                  "SoilType": "Clay",
                  "LocalName": null,
                  "Site": "Norwin",
                  "NearestTown": "Norwin",
                  "Region": "Darling Downs and Granite Belt",
                  "State": "Queensland",
                  "Country": "Australia",
                  "NaturalVegetation": "Qld. Bluegrass, possible Qld. Blue gum",
                  "ApsoilNumber": "900",
                  "Latitude": -27.581836,
                  "Longitude": 151.320206,
                  "LocationAccuracy": " +/- 20m",
                  "DataSource": "CSIRO Sustainable Ecosystems, Toowoomba; Characteriesd as part of the GRDC funded project\"Doing it better, doing it smarter, managing soil water in Australian agriculture' 2011",
                  "Comments": "OC, CLL for all crops estimated-based on Bongeen Mywybilla Soil No1",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.01056473311131,
                        1.07145631083388,
                        1.09393858528057,
                        1.15861335018721,
                        1.17301160318016,
                        1.16287303586874,
                        1.18749547755906
                      ],
                      "AirDry": [
                        0.130250054518252,
                        0.198689390775399,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "LL15": [
                        0.260500109036505,
                        0.248361738469248,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "DUL": [
                        0.52100021807301,
                        0.496723476938497,
                        0.488437607673005,
                        0.480296969355493,
                        0.471583596524955,
                        0.457070570557793,
                        0.452331759845006
                      ],
                      "SAT": [
                        0.588654817693846,
                        0.565676863836273,
                        0.557192986686577,
                        0.532787415023694,
                        0.527354112007486,
                        0.531179986464627,
                        0.521888499034317
                      ],
                      "KS": [
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0
                      ],
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.261,
                            0.248,
                            0.28,
                            0.306,
                            0.36,
                            0.392,
                            0.446
                          ],
                          "KL": [
                            0.06,
                            0.06,
                            0.06,
                            0.04,
                            0.04,
                            0.02,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "SlurpSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 5.0,
                      "SummerCona": 5.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 5.0,
                      "WinterCona": 5.0,
                      "DiffusConst": 40.0,
                      "DiffusSlope": 16.0,
                      "Salb": 0.12,
                      "CN2Bare": 73.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "SWCON": [
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilNitrogen, Models",
                      "fom_types": [
                        "default",
                        "manure",
                        "mucuna",
                        "lablab",
                        "shemp",
                        "stable"
                      ],
                      "fract_carb": [
                        0.2,
                        0.3,
                        0.54,
                        0.57,
                        0.45,
                        0.0
                      ],
                      "fract_cell": [
                        0.7,
                        0.3,
                        0.37,
                        0.37,
                        0.47,
                        0.1
                      ],
                      "fract_lign": [
                        0.1,
                        0.4,
                        0.09,
                        0.06,
                        0.08,
                        0.9
                      ],
                      "Name": "SoilNitrogen",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilNitrogenNO3, Models",
                          "Name": "NO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenNH4, Models",
                          "Name": "NH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenUrea, Models",
                          "Name": "Urea",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNO3, Models",
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNH4, Models",
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "Carbon": [
                        1.2,
                        0.96,
                        0.6,
                        0.3,
                        0.18,
                        0.12,
                        0.12
                      ],
                      "SoilCNRatio": [
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0
                      ],
                      "FBiom": [
                        0.04,
                        0.02,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.4,
                        0.6,
                        0.8,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        347.12903231275641,
                        270.3443621919937,
                        163.97214434990104,
                        99.454132887040629,
                        60.321980831124677,
                        36.587130828674873,
                        22.1912165985086
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": [
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "NH4N": [
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1
                      ],
                      "PH": [
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 1,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "OC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "EC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "CL": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": false,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Name": "MassBalanceFeedlot",
          "Children": [
            {
              "$type": "Models.Memo, Models",
              "Text": "This simulation checks the mass balance of animal / **supplement** interactions. The checks are done in the MassBalanceCalculations manager script.\n\nThe script first calculates the amount of pasture removed:\n\n\tPastureRemoved = StartOfDayPasture - EndOfDayPasture;\n\nand the weight gain of the animals on a day.\n\n\tLiveWeightGain = EndOfDayAnimal - StartOfDayAnimal;\n\nIt then calculates two balance terms that should be zero. The first checks that supplement removed = animal intake.\n\n\tLostWt = SupplementRemoved.Wt - Intake.Wt; \n\nThe second checks that N in the pasture removed = excreta N + the N retained by the animal. \n\n\tLostN = PastureRemoved.N - (Excreta.N + LiveWeightGain.N);\t\n\nA check is then made (on day 1 of the simulation) that the faeces from the animal is added to the surface organic matter (som) model:\n\n\tif (!MathUtilities.FloatsAreEqual(animals.FaecesAll.Weight, som.Wt))\n\t\tthrow new Exception(\"Mass balance error: The animal faeces weight on day 1 is not equal to surface organic matter weight.\");\n\nA check is then made (on day 1 of the simulation) that the urine from the animal is added to the soil urea pool:\n\n\tif (!MathUtilities.FloatsAreEqual(animals.UrineNAll, MathUtilities.Sum(urea.kgha)))\n\t\tthrow new Exception(\"Mass balance error: The animal urine on day 1 is not equal to soil urea amount.\");\n\nThese last checks are only done on day 1 because flows in and out of SOM and Urea pools make it difficult to calculate mass balance. The assumption is that if it works on day 1 it works for all other days.",
              "Name": "Memo",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Clock, Models",
              "Start": "2000-01-01T00:00:00",
              "End": "2000-05-31T00:00:00",
              "Name": "Clock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "CaptureErrors": true,
              "CaptureWarnings": true,
              "CaptureSummaryText": true,
              "Name": "SummaryFile",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Weather, Models",
              "FileName": "%root%\\Examples\\WeatherFiles\\lincoln.met",
              "ExcelWorkSheetName": "",
              "Name": "Weather",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.GrazPlan.Stock, Models",
              "randFactory": {
                "$type": "StdUnits.MyRandom, Models"
              },
              "RandSeed": 9999,
              "StockModel": null,
              "Name": "Stock",
              "Children": [
                {
                  "$type": "Models.GrazPlan.GenotypeCross, Models",
                  "AnimalType": null,
                  "PureBredBreed": null,
                  "DamBreed": "Friesian",
                  "SireBreed": "Jersey",
                  "MatureDeathRate": 0.0,
                  "WeanerDeathRate": 0.0,
                  "Conception": [
                    0.0,
                    1.0,
                    0.0,
                    0.0
                  ],
                  "Generation": 1,
                  "SRW": 550.0,
                  "PotFleeceWt": 0.0,
                  "MaxFibreDiam": 0.0,
                  "FleeceYield": 0.0,
                  "PeakMilk": 35.0,
                  "Name": "NZFriesianCross",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.GrazPlan.Supplement, Models",
              "SpoilageTime": 0.0,
              "Stores": [
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "fodder",
                  "Stored": 0.0,
                  "IsRoughage": true,
                  "DMContent": 0.85,
                  "DMD": 0.0,
                  "MEContent": 0.0,
                  "CPConc": 0.0,
                  "ProtDg": 0.0,
                  "PConc": 0.0,
                  "SConc": 0.0,
                  "EEConc": 0.0,
                  "ADIP2CP": 0.0,
                  "AshAlk": 0.0,
                  "MaxPassage": 0.0
                },
                {
                  "$type": "Models.GrazPlan.StoreType, Models",
                  "Name": "silage",
                  "Stored": 50000.0,
                  "IsRoughage": true,
                  "DMContent": 1.0,
                  "DMD": 0.70000000000000007,
                  "MEContent": 10.0,
                  "CPConc": 0.25,
                  "ProtDg": 0.8,
                  "PConc": 0.0032,
                  "SConc": 0.0024,
                  "EEConc": 0.02,
                  "ADIP2CP": 0.06,
                  "AshAlk": 0.6,
                  "MaxPassage": 0.0
                }
              ],
              "PaddockList": [],
              "Name": "Supplement",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "using System.Linq;\r\nusing System;\r\nusing Models.Core;\r\nusing Models.Utilities;\r\nusing Models.GrazPlan;\r\nusing APSIM.Shared.Utilities;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Calendar;\r\n        [Link] Stock Animals;\r\n        [Link] Supplement Feed;\r\n\r\n        private double sale_age = 3.0;\r\n        private int no_to_buy;\r\n        private int group_count;\r\n        private int g;\r\n        \r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            // purchase animals annually\r\n            if (DateUtilities.DatesEqual(\"01 JAN\", Calendar.Today))\r\n            {\r\n                g = Animals.NoGroups + 1;\r\n                no_to_buy = 1;\r\n                \r\n                StockBuy purchase = new StockBuy();\r\n                purchase.Genotype = \"small merino\";\r\n                purchase.Number = no_to_buy;\r\n                purchase.Sex = ReproductiveType.Castrate;\r\n                purchase.Age = 12;\r\n                purchase.Weight = 45.0;\r\n                purchase.UseTag = g + 1;\r\n                \r\n                Animals.Buy(purchase);\r\n                Animals.Move(\"Feedlot\");\r\n            }\r\n\r\n            // Shearing all animals\r\n            if (DateUtilities.DatesEqual(\"15 Dec\", Calendar.Today))\r\n            {\r\n                Animals.Shear(shearAdults:true, shearYoung:true);\r\n            }\r\n            \r\n            // Sell cast for age animals\r\n            if (DateUtilities.DatesEqual(\"20 Dec\", Calendar.Today))\r\n            {\r\n                group_count = Animals.NoGroups;\r\n                for (g = 1; g <= group_count; g++)\r\n                    Animals.SplitByAge(Convert.ToInt32(365 * sale_age));                   // older animals into a new group\r\n\r\n                foreach (var animalGroup in Animals.AnimalGroups)\r\n                {\r\n                    if (animalGroup.AgeDays >= 365 * sale_age)\r\n                        Animals.Sell(animalGroup.NoAnimals, animalGroup);\r\n                }\r\n            }\r\n            \r\n            if (Animals.NumberAll > 0)\r\n                Feed.Feed(\"silage\", 0.8 * Animals.NumberAll, \"Feedlot\");\r\n        }\r\n    }\r\n}\r\n",
              "Parameters": [],
              "Name": "ManageStock",
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "using Models.Surface;\r\nusing Models.PMF.Interfaces;\r\nusing System.Diagnostics;\r\nusing Models.AgPasture;\r\nusing System.Linq;\r\nusing System.Collections.Generic;\r\nusing System.Collections;\r\nusing Models.Soils;\r\nusing Models.PMF.Organs;\r\nusing Models.PMF;\r\nusing System.Xml.Serialization;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.GrazPlan;\r\nusing Models.Interfaces;\r\nusing Models.Utilities;\r\nusing Models.Core;\r\nusing Models;\r\nusing System;\r\n\r\nnamespace Models\r\n{\r\n\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock clock;\r\n        [Link] IOrganDamage[] forages;\r\n        [Link] Stock animals;\r\n        [Link] Zone paddocks;\r\n        [Link] ISummary summary;\r\n        [Link] Simulation farm;\r\n        [Link] Supplement supplement;\r\n        [Link] SurfaceOrganicMatter som;\r\n        [Link(ByName=true)] ISolute urea;\r\n\r\n        public BiomassAndN StartOfDayPasture { get; set; }\r\n        public BiomassAndN EndOfDayPasture { get; set; }\r\n        public BiomassAndN StartOfDaySupplement { get; set; }\r\n        public BiomassAndN EndOfDaySupplement { get; set; }\r\n        public BiomassAndN StartOfDayAnimal { get; set; }\r\n        public BiomassAndN EndOfDayAnimal { get; set; }\r\n        public BiomassAndN PastureRemoved { get; set; }\r\n        public BiomassAndN SupplementRemoved { get; set; }\r\n        public BiomassAndN LiveWeightGain { get; set; }\r\n        public BiomassAndN Intake { get; set; }\r\n        public BiomassAndN Excreta { get; set; }\r\n       \r\n        public double LostN { get; set; } \r\n        public double LostWt { get; set; } \r\n\r\n\r\n\r\n        // Start of simulation\r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnStart(object sender, EventArgs e)\r\n        {\r\n            forages = forages.Where(forage => forage.IsAboveGround && !(forage is SurfaceOrganicMatter)).ToArray();\r\n        }\r\n\r\n        // Start of day\r\n        [EventSubscribe(\"StartOfDay\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            StartOfDaySupplement = new BiomassAndN() \r\n            { \r\n                Wt = supplement.Stores.Sum(supp => supp.Stored),\r\n                N = supplement.Stores[1].CPConc / 6.25 * supplement.Stores.Sum(supp => supp.Stored),\r\n            };\r\n            StartOfDayPasture = new BiomassAndN() \r\n            { \r\n                Wt = forages.Sum(forage => forage.Live.Wt * 10),\r\n                N = forages.Sum(forage => forage.Live.N * 10),\r\n            };\r\n            StartOfDayAnimal = new BiomassAndN() \r\n            { \r\n                Wt = animals.WeightAll,\r\n                N = 0,\r\n            };\r\n        }\r\n\r\n        // End of day\r\n        [EventSubscribe(\"DoManagementCalculations\")]\r\n        private void OnDoManagementCalculations(object sender, EventArgs e)\r\n        {\r\n            EndOfDaySupplement = new BiomassAndN() \r\n            { \r\n                Wt = supplement.Stores.Sum(supp => supp.Stored),\r\n                N = supplement.Stores[1].CPConc / 6.25 * supplement.Stores.Sum(supp => supp.Stored),\r\n            };\r\n            EndOfDayPasture = new BiomassAndN() \r\n            { \r\n                Wt = forages.Sum(forage => forage.Live.Wt * 10),\r\n                N = forages.Sum(forage => forage.Live.N * 10),\r\n            };\r\n            EndOfDayAnimal = new BiomassAndN() \r\n            { \r\n                Wt = animals.WeightAll,\r\n                N = animals.RetainedNAll,   // kg/d\r\n            };\r\n\r\n            Intake = new BiomassAndN()\r\n            {\r\n                Wt = animals.IntakeAll.Weight,\r\n                N = animals.IntakeAll.N,\r\n            };\r\n            Excreta = new BiomassAndN()\r\n            {\r\n                Wt = animals.FaecesAll.Weight,\r\n                N = animals.FaecesAll.N + animals.UrineNAll,\r\n            };\r\n\r\n            PastureRemoved = StartOfDayPasture - EndOfDayPasture;\r\n            SupplementRemoved = StartOfDaySupplement - EndOfDaySupplement;\r\n            LiveWeightGain = EndOfDayAnimal - StartOfDayAnimal;\r\n            //  do a balance calc\r\n            LostN = SupplementRemoved.N - (Excreta.N + LiveWeightGain.N);  \r\n            LostWt = SupplementRemoved.Wt - animals.IntakeAll.Weight; \r\n\r\n            if (!MathUtilities.FloatsAreEqual(LostWt, 0))\r\n                throw new Exception(\"Mass balance between supplement and stock has not been maintained: \" + LostWt.ToString());\r\n            if (!MathUtilities.FloatsAreEqual(LostN, 0))\r\n                throw new Exception(\"Nitrogen mass balance between supplement and stock has not been maintained: \" + LostN.ToString());\r\n\r\n            if (clock.Today.DayOfYear == 1)\r\n            {\r\n                if (!MathUtilities.FloatsAreEqual(animals.FaecesAll.Weight, som.Wt))\r\n                    throw new Exception(\"Mass balance error: The animal faeces weight on day 1 is not equal to surface organic matter weight.\");\r\n                if (!MathUtilities.FloatsAreEqual(animals.UrineNAll, MathUtilities.Sum(urea.kgha)))\r\n                    throw new Exception(\"Mass balance error: The animal urine on day 1 is not equal to soil urea amount.\");\r\n            }\r\n        }\r\n    }\r\n\r\n    // Helper class for containing a mass and and N concentration.\r\n    [Serializable]\r\n    public class BiomassAndN\r\n    {\r\n        public double Wt { get; set; }\r\n        public double N { get; set; }\r\n        public static BiomassAndN operator +(BiomassAndN a, BiomassAndN b)\r\n        {\r\n            return new BiomassAndN()\r\n            {\r\n                Wt = a.Wt + b.Wt,\r\n                N = a.N + b.N,\r\n            };\r\n\r\n        }\r\n        public static BiomassAndN operator -(BiomassAndN a, BiomassAndN b)\r\n        {\r\n            return new BiomassAndN()\r\n            {\r\n                Wt = a.Wt - b.Wt,\r\n                N = a.N - b.N,\r\n            };\r\n        }\r\n    }\r\n}\r\n",
              "Parameters": [
                {
                  "Key": "StartOfDayPasture",
                  "Value": ""
                },
                {
                  "Key": "EndOfDayPasture",
                  "Value": ""
                },
                {
                  "Key": "StartOfDaySupplement",
                  "Value": ""
                },
                {
                  "Key": "EndOfDaySupplement",
                  "Value": ""
                },
                {
                  "Key": "StartOfDayAnimal",
                  "Value": ""
                },
                {
                  "Key": "EndOfDayAnimal",
                  "Value": ""
                },
                {
                  "Key": "PastureRemoved",
                  "Value": ""
                },
                {
                  "Key": "SupplementRemoved",
                  "Value": ""
                },
                {
                  "Key": "LiveWeightGain",
                  "Value": ""
                },
                {
                  "Key": "Intake",
                  "Value": ""
                },
                {
                  "Key": "Excreta",
                  "Value": ""
                },
                {
                  "Key": "LostN",
                  "Value": "0"
                },
                {
                  "Key": "LostWt",
                  "Value": "0"
                }
              ],
              "Name": "MassBalanceCalculations",
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Report, Models",
              "VariableNames": [
                "[Clock].Today as Date",
                "[Stock].NumberAll",
                "[Stock].WeightAll",
                "[MassBalanceCalculations].Script.SupplementRemoved as SupplementRemoved",
                "[MassBalanceCalculations].Script.PastureRemoved as PastureRemoved",
                "[MassBalanceCalculations].Script.Intake as Intake",
                "[MassBalanceCalculations].Script.Excreta as Excreta",
                "[MassBalanceCalculations].Script.LiveWeightGain as LiveWeightGain",
                "[MassBalanceCalculations].Script.LostN as LostN",
                "[MassBalanceCalculations].Script.LostWt as LostWt",
                "[SurfaceOrganicMatter].Wt",
                "[SurfaceOrganicMatter].N",
                "[Stock].FaecesAll",
                "[Stock].UrineNAll",
                "sum([Urea].kgha) as SoilUrea"
              ],
              "EventNames": [
                "[Clock].EndOfDay"
              ],
              "GroupByVariableName": null,
              "Name": "Report",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "Feedlot",
              "Children": [
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 0.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 0,
                  "ASCOrder": "Vertosol",
                  "ASCSubOrder": "Black",
                  "SoilType": "Clay",
                  "LocalName": null,
                  "Site": "Norwin",
                  "NearestTown": "Norwin",
                  "Region": "Darling Downs and Granite Belt",
                  "State": "Queensland",
                  "Country": "Australia",
                  "NaturalVegetation": "Qld. Bluegrass, possible Qld. Blue gum",
                  "ApsoilNumber": "900",
                  "Latitude": -27.581836,
                  "Longitude": 151.320206,
                  "LocationAccuracy": " +/- 20m",
                  "DataSource": "CSIRO Sustainable Ecosystems, Toowoomba; Characteriesd as part of the GRDC funded project\"Doing it better, doing it smarter, managing soil water in Australian agriculture' 2011",
                  "Comments": "OC, CLL for all crops estimated-based on Bongeen Mywybilla Soil No1",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.01056473311131,
                        1.07145631083388,
                        1.09393858528057,
                        1.15861335018721,
                        1.17301160318016,
                        1.16287303586874,
                        1.18749547755906
                      ],
                      "AirDry": [
                        0.130250054518252,
                        0.198689390775399,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "LL15": [
                        0.260500109036505,
                        0.248361738469248,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "DUL": [
                        0.52100021807301,
                        0.496723476938497,
                        0.488437607673005,
                        0.480296969355493,
                        0.471583596524955,
                        0.457070570557793,
                        0.452331759845006
                      ],
                      "SAT": [
                        0.588654817693846,
                        0.565676863836273,
                        0.557192986686577,
                        0.532787415023694,
                        0.527354112007486,
                        0.531179986464627,
                        0.521888499034317
                      ],
                      "KS": [
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0
                      ],
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.261,
                            0.248,
                            0.28,
                            0.306,
                            0.36,
                            0.392,
                            0.446
                          ],
                          "KL": [
                            0.06,
                            0.06,
                            0.06,
                            0.04,
                            0.04,
                            0.02,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "SlurpSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 5.0,
                      "SummerCona": 5.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 5.0,
                      "WinterCona": 5.0,
                      "DiffusConst": 40.0,
                      "DiffusSlope": 16.0,
                      "Salb": 0.12,
                      "CN2Bare": 73.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "SWCON": [
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.SoilNitrogen, Models",
                      "fom_types": [
                        "default",
                        "manure",
                        "mucuna",
                        "lablab",
                        "shemp",
                        "stable"
                      ],
                      "fract_carb": [
                        0.2,
                        0.3,
                        0.54,
                        0.57,
                        0.45,
                        0.0
                      ],
                      "fract_cell": [
                        0.7,
                        0.3,
                        0.37,
                        0.37,
                        0.47,
                        0.1
                      ],
                      "fract_lign": [
                        0.1,
                        0.4,
                        0.09,
                        0.06,
                        0.08,
                        0.9
                      ],
                      "Name": "SoilNitrogen",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilNitrogenNO3, Models",
                          "Name": "NO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenNH4, Models",
                          "Name": "NH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenUrea, Models",
                          "Name": "Urea",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNO3, Models",
                          "Name": "PlantAvailableNO3",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogenPlantAvailableNH4, Models",
                          "Name": "PlantAvailableNH4",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "Carbon": [
                        1.2,
                        0.96,
                        0.6,
                        0.3,
                        0.18,
                        0.12,
                        0.12
                      ],
                      "SoilCNRatio": [
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0
                      ],
                      "FBiom": [
                        0.04,
                        0.02,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.4,
                        0.6,
                        0.8,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        347.12903231275641,
                        270.3443621919937,
                        163.97214434990104,
                        99.454132887040629,
                        60.321980831124677,
                        36.587130828674873,
                        22.1912165985086
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": [
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "NH4N": [
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1
                      ],
                      "PH": [
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 1,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "OC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "EC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "CL": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": false,
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "IncludeInDocumentation": false,
      "Enabled": true,
      "ReadOnly": false
    }
  ],
  "IncludeInDocumentation": true,
  "Enabled": true,
  "ReadOnly": false
}